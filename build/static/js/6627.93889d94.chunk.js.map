{"version":3,"file":"static/js/6627.93889d94.chunk.js","mappings":"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","sources":["components/UserComps/UserItem.js","pages/UserPages/UserDetailPage.js"],"sourcesContent":["import React from \"react\";\r\nimport { Link, useActionData } from \"react-router-dom\";\r\nimport { useRouteLoaderData, useSubmit } from \"react-router-dom\";\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nfunction UserItem({ user }) {\r\n  const {token} = useRouteLoaderData(\"root\");\r\n  const submit = useSubmit();\r\n\r\n\r\n  if (data && data.errors) {\r\n    Object.values(data.errors).forEach((err) => {\r\n      toast.error(err);\r\n    });\r\n  }\r\n\r\n  function startDeleteHandler() {\r\n    const proceed = window.confirm(\"Are you sure?\");\r\n\r\n    if (proceed) {\r\n      submit(null, { method: \"delete\" });\r\n    }\r\n  }\r\n  const data = useActionData();\r\n  return (\r\n    <React.Fragment>\r\n      {data && data.errors && (\r\n        <ul>\r\n          {Object.values(data.errors).map((err) => (\r\n            <li key={err}>{err}</li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n                  {data && data.message && <p>{data.message}</p>}\r\n\r\n      <div className=\"\">\r\n        <h3 className=\"text-base font-semibold leading-7 text-gray-900\">\r\n          User Information\r\n        </h3>\r\n        <p className=\"mt-1 max-w-2xl text-sm leading-6 text-gray-500\">\r\n          {user.first_name} details and Information.\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"px-4 py-3 sm:grid sm:grid-cols-3 hover:bg-white sm:gap-4 sm:px-0\">\r\n        <dt className=\"text-sm font-medium leading-6 text-gray-900\">\r\n          Full name\r\n        </dt>\r\n        <dd className=\"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0\">\r\n          {user.first_name} {user.last_name}\r\n        </dd>\r\n      </div>\r\n      <div className=\"px-4 py-3 sm:grid sm:grid-cols-3 hover:bg-white sm:gap-4 sm:px-0\">\r\n        <dt className=\"text-sm font-medium leading-6 text-gray-900\">\r\n          Username\r\n        </dt>\r\n        <dd className=\"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0\">\r\n          {user.username} \r\n        </dd>\r\n      </div>\r\n      <div className=\"px-4 py-3 sm:grid sm:grid-cols-3 hover:bg-white sm:gap-4 sm:px-0\">\r\n        <dt className=\"text-sm font-medium leading-6 text-gray-900\">\r\n          User type\r\n        </dt>\r\n        <dd className=\"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0\">\r\n          {user.is_admin=== true ? \"Admin\": \"Care Giver\"} \r\n        </dd>\r\n      </div>\r\n      {token && (\r\n        <div className=\" px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\r\n        <dt className=\"text-sm font-medium text-gray-500\">\r\n          <button\r\n            onClick={startDeleteHandler}\r\n            className=\"px-4 py-2 text-sm font-medium text-gray-900 bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n          >\r\n            Delete\r\n          </button>\r\n        </dt>\r\n        <dd>\r\n          <Link to={`./edit`}>\r\n            <button className=\"px-4 py-2 text-sm font-medium text-gray-900 bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500\">\r\n              Edit\r\n            </button>\r\n          </Link>\r\n        </dd>\r\n      </div>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default UserItem;\r\n","import React from 'react'\r\nimport UserItem from '../../components/UserComps/UserItem'\r\nimport { json, redirect, useRouteLoaderData } from 'react-router-dom'\r\nimport { getAuthToken } from '../../util/Auth'\r\n\r\nfunction UserDetailPage() {\r\n  const user = useRouteLoaderData(\"user-detail\")\r\n  return (\r\n    <React.Fragment>\r\n        <UserItem user={user}/>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default UserDetailPage\r\n\r\nexport async function loader({ request, params }) {\r\n  let url = \"https://homes-test.onrender.com/user/\";\r\n  const token = getAuthToken();\r\n  const id = params.id;\r\n  const response = await fetch(url + id, {\r\n    method: \"get\",\r\n    headers: {\r\n      Authorization: \"Bearer \" + token,\r\n      \"Access-Control-Allow-Origin\": \"*\",\r\n    },\r\n  });\r\n  if (response.status === 400) {\r\n    return response;\r\n  }\r\n  if (response.status === 404) {\r\n    return response;\r\n  }\r\n  if (!response.ok) {\r\n    throw json({ message: \"Server error\" }, { status: 500 });\r\n  }\r\n\r\n  const resData = await response.json();\r\n  console.log(resData);\r\n  return resData;\r\n}\r\n\r\nexport async function action({ request, params }) {\r\n  const token = getAuthToken();\r\n\r\n  const id = params.id;\r\n  const response = await fetch(\"https://homes-test.onrender.com/user/\" + id, {\r\n    method: request.method,\r\n    headers: {\r\n      Authorization: \"Bearer \" + token,\r\n    },\r\n  });\r\n  if (response.status === 404) {\r\n    return response;\r\n  }\r\n  if (response.status === 400) {\r\n    return response;\r\n  }\r\n  if (!response.ok) {\r\n    throw json(\r\n      { message: \"Could not delete user.\" },\r\n      {\r\n        status: 500,\r\n      }\r\n    );\r\n  }\r\n  return redirect(\"/login/team\");\r\n}\r\n"],"names":["_ref","user","token","useRouteLoaderData","submit","useSubmit","data","errors","Object","values","forEach","err","toast","error","useActionData","_jsxs","React","children","_jsx","map","message","className","first_name","last_name","username","is_admin","onClick","window","confirm","method","Link","to","UserItem","loader","_x","_loader","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","params","id","response","resData","wrap","_context","prev","next","request","getAuthToken","fetch","headers","Authorization","sent","status","abrupt","ok","json","console","log","stop","action","_x2","_action","_callee2","_ref2","_context2","redirect"],"sourceRoot":""}