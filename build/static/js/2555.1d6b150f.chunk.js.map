{"version":3,"file":"static/js/2555.1d6b150f.chunk.js","mappings":"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","sources":["components/LeaveComps/NewLeaveForm.js","pages/LeavePages/EditLeave.js"],"sourcesContent":["import React from \"react\";\nimport {\n  Form,\n  json,\n  redirect,\n  useActionData,\n  useNavigate,\n  useNavigation,\n} from \"react-router-dom\";\nimport { getAuthToken } from \"../../util/Auth\";\n\nfunction NewLeaveForm({ method, leave }) {\n  const navigate = useNavigate();\n  const navigation = useNavigation();\n  const data = useActionData();\n  const isSubmitting = navigation.state === \"submitting\";\n  function cancelHandler() {\n    navigate(\"..\");\n  }\n\n  return (\n    <React.Fragment>\n      <Form method={method}>\n        <div className=\"sm:col-span-3\">\n          <label\n            htmlFor=\"date\"\n            className=\"block text-sm font-medium leading-6 text-gray-900\"\n          >\n            Leave Date\n          </label>\n          <div className=\"mt-2\">\n            <input\n              type=\"date\"\n              name=\"leave_date\"\n              id=\"leave_date\"\n              defaultValue={leave ? leave.leave_date: \"\"}\n              className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\n            />\n          </div>\n        </div>\n\n        <div className=\"sm:col-span-3\">\n          <label\n            htmlFor=\"date\"\n            className=\"block text-sm font-medium leading-6 text-gray-900\"\n          >\n            Return Date\n          </label>\n          <div className=\"mt-2\">\n            <input\n              type=\"date\"\n              name=\"return_date\"\n              id=\"return_date\"\n              defaultValue={leave ? leave.return_date: \"\"}\n              className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\n            />\n          </div>\n        </div>\n\n        <div className=\"sm:col-span-3\">\n          <label className=\"block text-sm font-medium leading-6 text-gray-900\">\n            Name of Person Responsible\n          </label>\n          <div className=\"mt-2\">\n            <input\n              type=\"text\"\n              name=\"person_responsible\"\n              id=\"person_responsible\"\n              defaultValue={leave ? leave.person_responsible: \"\"}\n              className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\n            />\n          </div>\n        </div>\n\n        <div className=\"sm:col-span-3\">\n          <label className=\"block text-sm font-medium leading-6 text-gray-900\">\n            Relationship to Resident\n          </label>\n          <div className=\"mt-2\">\n            <input\n              type=\"text\"\n              name=\"relationship\"\n              id=\"relationship\"\n              defaultValue={leave ? leave.relationship: \"\"}\n              className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\n            />\n          </div>\n        </div>\n\n        <div className=\"sm:col-span-3\">\n          <label className=\"block text-sm font-medium leading-6 text-gray-900\">\n            Contact of the Person Responsible\n          </label>\n          <div className=\"mt-2\">\n            <input\n              name=\"contact\"\n              id=\"contact\"\n              defaultValue={leave ? leave.contact: \"\"}\n              required\n              className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\n            />\n          </div>\n        </div>\n\n        <div className=\"col-span-full\">\n          <label className=\"block text-sm font-medium leading-6 text-gray-900\">\n            Reason for the Leave.\n          </label>\n          <div className=\"mt-2\">\n            <textarea\n              id=\"reason\"\n              name=\"reason\"\n              required\n              rows={3}\n              className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\n              defaultValue={leave ? leave.reason: \"\"}\n            />\n          </div>\n          <p className=\"mt-3 text-sm leading-6 text-gray-600\">\n            Describe the reason.\n          </p>\n        </div>\n\n        <div className=\"flex justify-between py-5 sm:col-span-4\">\n          <button\n            onClick={cancelHandler}\n            className=\"px-4 py-2 text-sm font-medium text-gray-900 bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          >\n            Back\n          </button>\n          <button\n            type=\"submit\"\n            disabled={isSubmitting}\n            className=\"px-4 py-2 text-sm font-medium text-gray-900 bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          >\n            {isSubmitting ? \"Submitting...\" : \"Save\"}\n          </button>\n        </div>\n      </Form>\n    </React.Fragment>\n  );\n}\n\nexport default NewLeaveForm;\n\nexport async function action({ request, params }) {\n  const method = request.method;\n  const data = await request.formData();\n  const token = getAuthToken();\n  const id = params.id;\n  const incidentData = {\n    leave_date: data.get(\"leave_date\"),\n    return_date: data.get(\"return_date\"),\n    person_responsible: data.get(\"person_responsible\"),\n    relationship: data.get(\"relationship\"),\n    contact: data.get(\"contact\"),\n    reason: data.get(\"reason\"),\n    resident_id: id,\n  };\n  let url = \"https://homes-test.onrender.com/leave-records\";\n  if (method === \"POST\") {\n    const response = await fetch(url, {\n      method: method,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token,\n        \"Access-Control-Allow-Origin\": \"*\",\n      },\n      body: JSON.stringify(incidentData),\n    });\n    if (response.status === 400) {\n      return response;\n    }\n    if (!response.ok) {\n      throw json({ message: \"Failed to save the incident\" }, { status: 500 });\n    }\n    return redirect(`/login/residents/${id}/leaves`);\n  }\n}\n","import React from 'react'\nimport NewLeaveForm from '../../components/LeaveComps/NewLeaveForm'\nimport { useRouteLoaderData } from 'react-router-dom'\n\nfunction EditLeave() {\n  const leave = useRouteLoaderData(\"leave\")\n  return (\n    <React.Fragment>\n      <NewLeaveForm leave={leave} method=\"patch\"/>\n    </React.Fragment>\n  )\n}\n\nexport default EditLeave"],"names":["action","_x","_action","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_ref2","request","params","method","data","token","id","incidentData","response","wrap","_context","prev","next","formData","sent","getAuthToken","leave_date","get","return_date","person_responsible","relationship","contact","reason","resident_id","fetch","headers","Authorization","body","JSON","stringify","status","abrupt","ok","json","message","redirect","concat","stop","_ref","leave","navigate","useNavigate","navigation","useNavigation","isSubmitting","useActionData","state","_jsx","React","children","_jsxs","Form","className","htmlFor","type","name","defaultValue","required","rows","onClick","disabled","useRouteLoaderData","NewLeaveForm"],"sourceRoot":""}