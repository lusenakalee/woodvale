{"version":3,"file":"static/js/7180.41b29518.chunk.js","mappings":"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","sources":["components/IncidentComps/NewIncidentForm.js","pages/IncidentPages/EditIncidents.js"],"sourcesContent":["import React from \"react\";\nimport { getAuthToken } from \"../../util/Auth\";\nimport {\n  Form,\n  json,\n  redirect,\n  useActionData,\n  useNavigate,\n  useNavigation,\n} from \"react-router-dom\";\n\nfunction NewIncidentForm({ method, incident }) {\n  const navigate = useNavigate();\n  const navigation = useNavigation();\n  const data = useActionData();\n  const isSubmitting = navigation.state === \"submitting\";\n  function cancelHandler() {\n    navigate(\"..\");\n  }\n\n  return (\n    <React.Fragment>\n      {data && data.errors && (\n        <ul>\n          {Object.values(data.errors).map((err) => (\n            <li key={err}>{err}</li>\n          ))}\n        </ul>\n      )}\n      {data && data.message && <p>{data.message}</p>}\n      <Form method={method}>\n        <div className=\"sm:col-span-3\">\n          <label className=\"block text-sm font-medium leading-6 text-gray-900\">\n            Incident Date\n          </label>\n          <div className=\"mt-2\">\n            <input\n              id=\"incident_date\"\n              name=\"incident_date\"\n              type=\"date\"\n              defaultValue={incident ? incident.incident_date : \"\"}\n              required\n              className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:max-w-xs sm:text-sm sm:leading-6\"\n            />\n          </div>\n        </div>\n\n        <div className=\"col-span-full\">\n          <label\n            htmlFor=\"about\"\n            className=\"block text-sm font-medium leading-6 text-gray-900\"\n          >\n            Incident description\n          </label>\n          <div className=\"mt-2\">\n            <textarea\n              id=\"about\"\n              name=\"description\"\n              required\n              rows={3}\n              className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\n              defaultValue={incident ? incident.description : \"\"}\n            />\n          </div>\n          <p className=\"mt-3 text-sm leading-6 text-gray-600\">\n            Write a few sentences about the Incident.\n          </p>\n        </div>\n\n        <div className=\"col-span-full\">\n          <label\n            htmlFor=\"actions_taken\"\n            className=\"block text-sm font-medium leading-6 text-gray-900\"\n          >\n            Actions Taken\n          </label>\n          <div className=\"mt-2\">\n            <textarea\n              id=\"actions_taken\"\n              name=\"actions_taken\"\n              required\n              rows={3}\n              className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\n              defaultValue={incident ? incident.actions_taken : \"\"}\n            />\n          </div>\n          <p className=\"mt-3 text-sm leading-6 text-gray-600\">\n            Write a few sentences about the Incident.\n          </p>\n        </div>\n\n        <div className=\"sm:col-span-3\">\n          <label\n            htmlFor=\"location\"\n            className=\"block text-sm font-medium leading-6 text-gray-900\"\n          >\n            Location of Incident\n          </label>\n          <div className=\"mt-2\">\n            <input\n              type=\"text\"\n              name=\"location\"\n              defaultValue={incident ? incident.location : \"\"}\n              id=\"location\"\n              className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\n            />\n          </div>\n        </div>\n\n        <div className=\"sm:col-span-3\">\n          <label\n            htmlFor=\"person_reporting\"\n            className=\"block text-sm font-medium leading-6 text-gray-900\"\n          >\n            Person reporting\n          </label>\n          <div className=\"mt-2\">\n            <input\n              required\n              type=\"text\"\n              name=\"person_reporting\"\n              defaultValue={incident ? incident.person_reporting : \"\"}\n              id=\"person_reporting\"\n              className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\n            />\n          </div>\n        </div>\n\n        <div className=\"sm:col-span-3\">\n          <label className=\"block text-sm font-medium leading-6 text-gray-900\">\n            Person notified\n          </label>\n          <div className=\"mt-2\">\n            <select\n              id=\"person_notified\"\n              defaultValue={incident ? incident.person_notified : \"\"}\n              name=\"person_notified\"\n              autoComplete=\"person_notified\"\n              className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:max-w-xs sm:text-sm sm:leading-6\"\n            >\n              <option>911</option>\n              <option>Case Manager</option>\n              <option>MD</option>\n              <option>Family</option>\n            </select>\n          </div>\n        </div>\n\n        <div className=\"col-span-full\">\n          <label\n            htmlFor=\"witnesses\"\n            className=\"block text-sm font-medium leading-6 text-gray-900\"\n          >\n            Witnesses\n          </label>\n          <div className=\"mt-2\">\n            <textarea\n              id=\"witnesses\"\n              name=\"witnesses\"\n              required\n              rows={3}\n              className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\n              defaultValue={incident ? incident.witnesses : \"\"}\n            />\n          </div>\n        </div>\n\n        <div className=\"col-span-full\">\n          <label className=\"block text-sm font-medium leading-6 text-gray-900\">\n            Antecedent\n          </label>\n          <div className=\"mt-2\">\n            <textarea\n              id=\"antecedent\"\n              name=\"antecedent\"\n              rows={3}\n              className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\n              defaultValue={incident ? incident.antecedent : \"\"}\n            />\n          </div>\n        </div>\n\n        <div className=\"flex justify-between py-5 sm:col-span-4\">\n          <button\n            onClick={cancelHandler}\n            className=\"px-4 py-2 text-sm font-medium text-gray-900 bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          >\n            Back\n          </button>\n          <button\n            type=\"submit\"\n            disabled={isSubmitting}\n            className=\"px-4 py-2 text-sm font-medium text-gray-900 bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          >\n            {isSubmitting ? \"Submitting...\" : \"Save\"}\n          </button>\n        </div>\n      </Form>\n    </React.Fragment>\n  );\n}\n\nexport default NewIncidentForm;\nexport async function action({ request, params }) {\n  const method = request.method;\n  const data = await request.formData();\n  const token = getAuthToken();\n  const id = params.id;\n  const incidentData = {\n    incident_date: data.get(\"incident_date\"),\n    description: data.get(\"description\"),\n    actions_taken: data.get(\"actions_taken\"),\n    location: data.get(\"location\"),\n    person_reporting: data.get(\"person_reporting\"),\n    person_notified: data.get(\"person_notified\"),\n    witnesses: data.get(\"witnesses\"),\n    antecedent: data.get(\"antecedent\"),\n    resident_id: id,\n  };\n  let url = \"https://homes-test.onrender.com/incident-reports\";\n  if (method === \"POST\") {\n    const response = await fetch(url, {\n      method: method,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token,\n        \"Access-Control-Allow-Origin\": \"*\",\n      },\n      body: JSON.stringify(incidentData),\n    });\n    if (response.status === 400) {\n      return response;\n    }\n    if (!response.ok) {\n      throw json({ message: \"Failed to save the incident\" }, { status: 500 });\n    }\n    return redirect(`/login/residents/${id}/incident`);\n  }\n}\n","import React from 'react'\nimport NewIncidentForm from '../../components/IncidentComps/NewIncidentForm'\nimport { useRouteLoaderData } from 'react-router-dom';\n\nfunction EditIncidents() {\n  const incident = useRouteLoaderData(\"incident\");\n  return (\n    <NewIncidentForm method=\"patch\" incident={incident}/>\n  )\n}\n\nexport default EditIncidents"],"names":["action","_x","_action","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_ref2","request","params","method","data","token","id","incidentData","response","wrap","_context","prev","next","formData","sent","getAuthToken","incident_date","get","description","actions_taken","location","person_reporting","person_notified","witnesses","antecedent","resident_id","fetch","headers","Authorization","body","JSON","stringify","status","abrupt","ok","json","message","redirect","concat","stop","_ref","incident","navigate","useNavigate","navigation","useNavigation","useActionData","isSubmitting","state","_jsxs","React","children","errors","_jsx","Object","values","map","err","Form","className","name","type","defaultValue","required","htmlFor","rows","autoComplete","onClick","disabled","useRouteLoaderData","NewIncidentForm"],"sourceRoot":""}