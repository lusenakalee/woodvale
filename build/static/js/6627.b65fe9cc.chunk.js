"use strict";(self.webpackChunkwoodvale=self.webpackChunkwoodvale||[]).push([[6627],{6627:function(e,t,r){r.r(t),r.d(t,{action:function(){return g},default:function(){return l},loader:function(){return x}});var s=r(4165),n=r(5861),a=r(2791),i=r(7689),u=r(1087),o=r(184);var c=function(e){var t=e.user,r=(0,i.V4)("root"),s=(0,u.qd)(),n=(0,i.nA)();return(0,o.jsxs)(a.Fragment,{children:[n&&n.errors&&(0,o.jsx)("ul",{children:Object.values(n.errors).map((function(e){return(0,o.jsx)("li",{children:e},e)}))}),(0,o.jsxs)("div",{className:"",children:[(0,o.jsx)("h3",{className:"text-base font-semibold leading-7 text-gray-900",children:"User Information"}),(0,o.jsxs)("p",{className:"mt-1 max-w-2xl text-sm leading-6 text-gray-500",children:[t.first_name," details and Information."]})]}),(0,o.jsxs)("div",{className:"px-4 py-3 sm:grid sm:grid-cols-3 hover:bg-white sm:gap-4 sm:px-0",children:[(0,o.jsx)("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:"Full name"}),(0,o.jsxs)("dd",{className:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0",children:[t.first_name," ",t.last_name]})]}),(0,o.jsxs)("div",{className:"px-4 py-3 sm:grid sm:grid-cols-3 hover:bg-white sm:gap-4 sm:px-0",children:[(0,o.jsx)("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:"Username"}),(0,o.jsx)("dd",{className:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0",children:t.username})]}),(0,o.jsxs)("div",{className:"px-4 py-3 sm:grid sm:grid-cols-3 hover:bg-white sm:gap-4 sm:px-0",children:[(0,o.jsx)("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:"User type"}),(0,o.jsx)("dd",{className:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0",children:!0===t.is_admin?"Admin":"Care Giver"})]}),r&&(0,o.jsxs)("div",{className:" px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,o.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:(0,o.jsx)("button",{onClick:function(){window.confirm("Are you sure?")&&s(null,{method:"delete"})},className:"px-4 py-2 text-sm font-medium text-gray-900 bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Delete"})}),(0,o.jsx)("dd",{children:(0,o.jsx)(u.rU,{to:"./edit",children:(0,o.jsx)("button",{className:"px-4 py-2 text-sm font-medium text-gray-900 bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Edit"})})})]})]})},m=r(2620),d=r(8127);var l=function(){var e=(0,i.V4)("user-detail");return(0,o.jsx)(a.Fragment,{children:(0,o.jsx)(c,{user:e})})};function x(e){return h.apply(this,arguments)}function h(){return(h=(0,n.Z)((0,s.Z)().mark((function e(t){var r,n,a,i,u;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.request,r=t.params,"/user/",n=(0,d.getAuthToken)(),a=r.id,e.next=6,fetch("/user/"+a,{method:"get",headers:{Authorization:"Bearer "+n,"Access-Control-Allow-Origin":"*"}});case 6:if(400!==(i=e.sent).status){e.next=9;break}return e.abrupt("return",i);case 9:if(404!==i.status){e.next=11;break}return e.abrupt("return",i);case 11:if(i.ok){e.next=13;break}throw(0,m.AV)({message:"Wrong Url"},{status:500});case 13:return e.next=15,i.json();case 15:return u=e.sent,console.log(u),e.abrupt("return",u);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return p.apply(this,arguments)}function p(){return(p=(0,n.Z)((0,s.Z)().mark((function e(t){var r,n,a,i,u;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.request,n=t.params,a=(0,d.getAuthToken)(),i=n.id,e.next=5,fetch("/user/"+i,{method:r.method,headers:{Authorization:"Bearer "+a}});case 5:if(404!==(u=e.sent).status){e.next=8;break}return e.abrupt("return",u);case 8:if(400!==u.status){e.next=10;break}return e.abrupt("return",u);case 10:if(u.ok){e.next=12;break}throw(0,m.AV)({message:"Could not delete user."},{status:500});case 12:return e.abrupt("return",(0,m.uX)("/login/team"));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=6627.b65fe9cc.chunk.js.map