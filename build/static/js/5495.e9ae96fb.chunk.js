"use strict";(self.webpackChunkwoodvale=self.webpackChunkwoodvale||[]).push([[5495],{5495:function(e,t,s){s.r(t),s.d(t,{action:function(){return p},default:function(){return x},loader:function(){return u}});var n=s(4165),r=s(5861),a=s(2791),i=s(1087),d=s(184);var m=function(e){var t=e.incident,s=(0,i.qd)();return(0,d.jsxs)(a.Fragment,{children:[(0,d.jsxs)("div",{className:"px-4 py-3 sm:grid sm:grid-cols-3 hover:bg-white sm:gap-4 sm:px-0",children:[(0,d.jsx)("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:"Incident Date "}),(0,d.jsx)("dd",{className:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0",children:t.incident_date})]}),(0,d.jsxs)("div",{className:"px-4 py-3 sm:grid sm:grid-cols-3 hover:bg-white sm:gap-4 sm:px-0",children:[(0,d.jsx)("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:"Description "}),(0,d.jsx)("dd",{className:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0",children:t.description})]}),(0,d.jsxs)("div",{className:"px-4 py-3 sm:grid sm:grid-cols-3 hover:bg-white sm:gap-4 sm:px-0",children:[(0,d.jsx)("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:"Actions taken "}),(0,d.jsx)("dd",{className:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0",children:t.actions_taken})]}),(0,d.jsxs)("div",{className:"px-4 py-3 sm:grid sm:grid-cols-3 hover:bg-white sm:gap-4 sm:px-0",children:[(0,d.jsx)("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:"Antecedent "}),(0,d.jsx)("dd",{className:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0",children:t.antecedent})]}),(0,d.jsxs)("div",{className:"px-4 py-3 sm:grid sm:grid-cols-3 hover:bg-white sm:gap-4 sm:px-0",children:[(0,d.jsx)("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:"Location "}),(0,d.jsx)("dd",{className:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0",children:t.location})]}),(0,d.jsxs)("div",{className:"px-4 py-3 sm:grid sm:grid-cols-3 hover:bg-white sm:gap-4 sm:px-0",children:[(0,d.jsx)("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:"Person Notified "}),(0,d.jsx)("dd",{className:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0",children:t.person_notified})]}),(0,d.jsxs)("div",{className:"px-4 py-3 sm:grid sm:grid-cols-3 hover:bg-white sm:gap-4 sm:px-0",children:[(0,d.jsx)("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:"Person Reporting "}),(0,d.jsx)("dd",{className:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0",children:t.person_reporting})]}),(0,d.jsxs)("div",{className:"px-4 py-3 sm:grid sm:grid-cols-3 hover:bg-white sm:gap-4 sm:px-0",children:[(0,d.jsx)("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:"Registered by "}),(0,d.jsx)("dd",{className:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0",children:t.registered_by.first_name})]}),(0,d.jsxs)("div",{className:" px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,d.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:(0,d.jsx)("button",{onClick:function(){window.confirm("Are you sure?")&&s(null,{method:"delete"})},className:"px-4 py-2 text-sm font-medium text-gray-900 bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Delete"})}),(0,d.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0",children:(0,d.jsx)(i.rU,{to:"edit",children:(0,d.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-gray-900 bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Edit"})})})]})]})},c=s(8127),l=s(7689),o=s(2620);var x=function(){var e=(0,l.V4)("incident");return(0,d.jsx)(a.Fragment,{children:(0,d.jsx)(m,{incident:e})})};function u(e){return g.apply(this,arguments)}function g(){return(g=(0,r.Z)((0,n.Z)().mark((function e(t){var s,r,a,i,d;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.request,s=t.params,"/incident-reports/",r=(0,c.getAuthToken)(),a=s.incidentId,e.next=6,fetch("/incident-reports/"+a,{method:"get",headers:{Authorization:"Bearer "+r,"Access-Control-Allow-Origin":"*"}});case 6:if(400!==(i=e.sent).status){e.next=9;break}return e.abrupt("return",i);case 9:if(404!==i.status){e.next=11;break}return e.abrupt("return",i);case 11:if(i.ok){e.next=13;break}throw(0,o.AV)({message:"Wrong Url"},{status:500});case 13:return e.next=15,i.json();case 15:return d=e.sent,console.log(d),e.abrupt("return",d);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)((0,n.Z)().mark((function e(t){var s,r,a,i,d,m;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.request,r=t.params,a=(0,c.getAuthToken)(),i=r.incidentId,d=r.id,e.next=6,fetch("/incident-reports/"+i,{method:s.method,headers:{Authorization:"Bearer "+a}});case 6:if(404!==(m=e.sent).status){e.next=9;break}return e.abrupt("return",m);case 9:if(400!==m.status){e.next=11;break}return e.abrupt("return",m);case 11:if(m.ok){e.next=13;break}throw(0,o.AV)({message:"Could not delete incident."},{status:500});case 13:return e.abrupt("return",(0,o.uX)("/login/residents/".concat(d,"/incident")));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=5495.e9ae96fb.chunk.js.map