{"version":3,"file":"static/js/7180.ee2e7399.chunk.js","mappings":"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","sources":["components/IncidentComps/NewIncidentForm.js","pages/IncidentPages/EditIncidents.js"],"sourcesContent":["import React from \"react\";\r\nimport { getAuthToken } from \"../../util/Auth\";\r\nimport {\r\n  Form,\r\n  json,\r\n  redirect,\r\n  useActionData,\r\n  useNavigate,\r\n  useNavigation,\r\n} from \"react-router-dom\";\r\n\r\nfunction NewIncidentForm({ method, incident }) {\r\n  const navigate = useNavigate();\r\n  const navigation = useNavigation();\r\n  const data = useActionData();\r\n  const isSubmitting = navigation.state === \"submitting\";\r\n  function cancelHandler() {\r\n    navigate(\"..\");\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Form method={method}>\r\n        <div className=\"sm:col-span-3\">\r\n          <label className=\"block text-sm font-medium leading-6 text-gray-900\">\r\n            Incident Date\r\n          </label>\r\n          <div className=\"mt-2\">\r\n            <input\r\n              id=\"incident_date\"\r\n              name=\"incident_date\"\r\n              type=\"date\"\r\n              defaultValue={incident ? incident.incident_date : \"\"}\r\n              required\r\n              className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:max-w-xs sm:text-sm sm:leading-6\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"col-span-full\">\r\n          <label\r\n            htmlFor=\"about\"\r\n            className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n          >\r\n            Incident description\r\n          </label>\r\n          <div className=\"mt-2\">\r\n            <textarea\r\n              id=\"about\"\r\n              name=\"description\"\r\n              required\r\n              rows={3}\r\n              className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n              defaultValue={incident ? incident.description : \"\"}\r\n            />\r\n          </div>\r\n          <p className=\"mt-3 text-sm leading-6 text-gray-600\">\r\n            Write a few sentences about the Incident.\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"col-span-full\">\r\n          <label\r\n            htmlFor=\"actions_taken\"\r\n            className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n          >\r\n            Actions Taken\r\n          </label>\r\n          <div className=\"mt-2\">\r\n            <textarea\r\n              id=\"actions_taken\"\r\n              name=\"actions_taken\"\r\n              required\r\n              rows={3}\r\n              className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n              defaultValue={incident ? incident.actions_taken : \"\"}\r\n            />\r\n          </div>\r\n          <p className=\"mt-3 text-sm leading-6 text-gray-600\">\r\n            Write a few sentences about the Incident.\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"sm:col-span-3\">\r\n          <label\r\n            htmlFor=\"location\"\r\n            className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n          >\r\n            Location of Incident\r\n          </label>\r\n          <div className=\"mt-2\">\r\n            <input\r\n              type=\"text\"\r\n              name=\"location\"\r\n              defaultValue={incident ? incident.location : \"\"}\r\n              id=\"location\"\r\n              className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"sm:col-span-3\">\r\n          <label\r\n            htmlFor=\"person_reporting\"\r\n            className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n          >\r\n            Person reporting\r\n          </label>\r\n          <div className=\"mt-2\">\r\n            <input\r\n              required\r\n              type=\"text\"\r\n              name=\"person_reporting\"\r\n              defaultValue={incident ? incident.person_reporting : \"\"}\r\n              id=\"person_reporting\"\r\n              className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"sm:col-span-3\">\r\n          <label className=\"block text-sm font-medium leading-6 text-gray-900\">\r\n            Person notified\r\n          </label>\r\n          <div className=\"mt-2\">\r\n            <select\r\n              id=\"person_notified\"\r\n              defaultValue={incident ? incident.person_notified : \"\"}\r\n              name=\"person_notified\"\r\n              autoComplete=\"person_notified\"\r\n              className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:max-w-xs sm:text-sm sm:leading-6\"\r\n            >\r\n              <option>911</option>\r\n              <option>Case Manager</option>\r\n              <option>MD</option>\r\n              <option>Family</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"col-span-full\">\r\n          <label\r\n            htmlFor=\"witnesses\"\r\n            className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n          >\r\n            Witnesses\r\n          </label>\r\n          <div className=\"mt-2\">\r\n            <textarea\r\n              id=\"witnesses\"\r\n              name=\"witnesses\"\r\n              required\r\n              rows={3}\r\n              className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n              defaultValue={incident ? incident.witnesses : \"\"}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"col-span-full\">\r\n          <label className=\"block text-sm font-medium leading-6 text-gray-900\">\r\n            Antecedent\r\n          </label>\r\n          <div className=\"mt-2\">\r\n            <textarea\r\n              id=\"antecedent\"\r\n              name=\"antecedent\"\r\n              rows={3}\r\n              className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n              defaultValue={incident ? incident.antecedent : \"\"}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex justify-between py-5 sm:col-span-4\">\r\n          <button\r\n            onClick={cancelHandler}\r\n            className=\"px-4 py-2 text-sm font-medium text-gray-900 bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n          >\r\n            Back\r\n          </button>\r\n          <button\r\n            type=\"submit\"\r\n            disabled={isSubmitting}\r\n            className=\"px-4 py-2 text-sm font-medium text-gray-900 bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n          >\r\n            {isSubmitting ? \"Submitting...\" : \"Save\"}\r\n          </button>\r\n        </div>\r\n      </Form>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default NewIncidentForm;\r\nexport async function action({ request, params }) {\r\n  const method = request.method;\r\n  const data = await request.formData();\r\n  const token = getAuthToken();\r\n  const id = params.id;\r\n  const incidentData = {\r\n    incident_date: data.get(\"incident_date\"),\r\n    description: data.get(\"description\"),\r\n    actions_taken: data.get(\"actions_taken\"),\r\n    location: data.get(\"location\"),\r\n    person_reporting: data.get(\"person_reporting\"),\r\n    person_notified: data.get(\"person_notified\"),\r\n    witnesses: data.get(\"witnesses\"),\r\n    antecedent: data.get(\"antecedent\"),\r\n    resident_id: id,\r\n  };\r\n  let url = \"https://homes-test.onrender.com/incident-reports\";\r\n  if (method === \"POST\") {\r\n    const response = await fetch(url, {\r\n      method: method,\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + token,\r\n        \"Access-Control-Allow-Origin\": \"*\",\r\n      },\r\n      body: JSON.stringify(incidentData),\r\n    });\r\n    if (response.status === 400) {\r\n      return response;\r\n    }\r\n    if (!response.ok) {\r\n      throw json({ message: \"Failed to save the incident\" }, { status: 500 });\r\n    }\r\n    return redirect(`/login/residents/${id}/incident`);\r\n  }\r\n}\r\n","import React from 'react'\r\nimport NewIncidentForm from '../../components/IncidentComps/NewIncidentForm'\r\nimport { useRouteLoaderData } from 'react-router-dom';\r\n\r\nfunction EditIncidents() {\r\n  const incident = useRouteLoaderData(\"incident\");\r\n  return (\r\n    <NewIncidentForm method=\"patch\" incident={incident}/>\r\n  )\r\n}\r\n\r\nexport default EditIncidents"],"names":["action","_x","_action","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_ref2","request","params","method","data","token","id","incidentData","response","wrap","_context","prev","next","formData","sent","getAuthToken","incident_date","get","description","actions_taken","location","person_reporting","person_notified","witnesses","antecedent","resident_id","fetch","headers","Authorization","body","JSON","stringify","status","abrupt","ok","json","message","redirect","concat","stop","_ref","incident","navigate","useNavigate","navigation","useNavigation","isSubmitting","useActionData","state","_jsx","React","children","_jsxs","Form","className","name","type","defaultValue","required","htmlFor","rows","autoComplete","onClick","disabled","useRouteLoaderData","NewIncidentForm"],"sourceRoot":""}