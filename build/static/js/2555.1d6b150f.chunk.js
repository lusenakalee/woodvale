"use strict";(self.webpackChunkwoodvale=self.webpackChunkwoodvale||[]).push([[2555,8821],{8821:function(e,s,t){t.r(s),t.d(s,{action:function(){return m}});var n=t(4165),a=t(5861),r=t(2791),i=t(7689),l=t(1087),o=t(2620),d=t(8127),c=t(184);function m(e){return u.apply(this,arguments)}function u(){return(u=(0,a.Z)((0,n.Z)().mark((function e(s){var t,a,r,i,l,c,m,u;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.request,a=s.params,r=t.method,e.next=4,t.formData();case 4:if(i=e.sent,l=(0,d.getAuthToken)(),c=a.id,m={leave_date:i.get("leave_date"),return_date:i.get("return_date"),person_responsible:i.get("person_responsible"),relationship:i.get("relationship"),contact:i.get("contact"),reason:i.get("reason"),resident_id:c},"https://homes-test.onrender.com/leave-records","POST"!==r){e.next=18;break}return e.next=12,fetch("https://homes-test.onrender.com/leave-records",{method:r,headers:{"Content-Type":"application/json",Authorization:"Bearer "+l,"Access-Control-Allow-Origin":"*"},body:JSON.stringify(m)});case 12:if(400!==(u=e.sent).status){e.next=15;break}return e.abrupt("return",u);case 15:if(u.ok){e.next=17;break}throw(0,o.AV)({message:"Failed to save the incident"},{status:500});case 17:return e.abrupt("return",(0,o.uX)("/login/residents/".concat(c,"/leaves")));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}s.default=function(e){var s=e.method,t=e.leave,n=(0,i.s0)(),a=(0,i.HJ)(),o=((0,i.nA)(),"submitting"===a.state);return(0,c.jsx)(r.Fragment,{children:(0,c.jsxs)(l.l0,{method:s,children:[(0,c.jsxs)("div",{className:"sm:col-span-3",children:[(0,c.jsx)("label",{htmlFor:"date",className:"block text-sm font-medium leading-6 text-gray-900",children:"Leave Date"}),(0,c.jsx)("div",{className:"mt-2",children:(0,c.jsx)("input",{type:"date",name:"leave_date",id:"leave_date",defaultValue:t?t.leave_date:"",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]}),(0,c.jsxs)("div",{className:"sm:col-span-3",children:[(0,c.jsx)("label",{htmlFor:"date",className:"block text-sm font-medium leading-6 text-gray-900",children:"Return Date"}),(0,c.jsx)("div",{className:"mt-2",children:(0,c.jsx)("input",{type:"date",name:"return_date",id:"return_date",defaultValue:t?t.return_date:"",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]}),(0,c.jsxs)("div",{className:"sm:col-span-3",children:[(0,c.jsx)("label",{className:"block text-sm font-medium leading-6 text-gray-900",children:"Name of Person Responsible"}),(0,c.jsx)("div",{className:"mt-2",children:(0,c.jsx)("input",{type:"text",name:"person_responsible",id:"person_responsible",defaultValue:t?t.person_responsible:"",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]}),(0,c.jsxs)("div",{className:"sm:col-span-3",children:[(0,c.jsx)("label",{className:"block text-sm font-medium leading-6 text-gray-900",children:"Relationship to Resident"}),(0,c.jsx)("div",{className:"mt-2",children:(0,c.jsx)("input",{type:"text",name:"relationship",id:"relationship",defaultValue:t?t.relationship:"",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]}),(0,c.jsxs)("div",{className:"sm:col-span-3",children:[(0,c.jsx)("label",{className:"block text-sm font-medium leading-6 text-gray-900",children:"Contact of the Person Responsible"}),(0,c.jsx)("div",{className:"mt-2",children:(0,c.jsx)("input",{name:"contact",id:"contact",defaultValue:t?t.contact:"",required:!0,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]}),(0,c.jsxs)("div",{className:"col-span-full",children:[(0,c.jsx)("label",{className:"block text-sm font-medium leading-6 text-gray-900",children:"Reason for the Leave."}),(0,c.jsx)("div",{className:"mt-2",children:(0,c.jsx)("textarea",{id:"reason",name:"reason",required:!0,rows:3,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",defaultValue:t?t.reason:""})}),(0,c.jsx)("p",{className:"mt-3 text-sm leading-6 text-gray-600",children:"Describe the reason."})]}),(0,c.jsxs)("div",{className:"flex justify-between py-5 sm:col-span-4",children:[(0,c.jsx)("button",{onClick:function(){n("..")},className:"px-4 py-2 text-sm font-medium text-gray-900 bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Back"}),(0,c.jsx)("button",{type:"submit",disabled:o,className:"px-4 py-2 text-sm font-medium text-gray-900 bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500",children:o?"Submitting...":"Save"})]})]})})}},2555:function(e,s,t){t.r(s);var n=t(2791),a=t(8821),r=t(7689),i=t(184);s.default=function(){var e=(0,r.V4)("leave");return(0,i.jsx)(n.Fragment,{children:(0,i.jsx)(a.default,{leave:e,method:"patch"})})}}}]);
//# sourceMappingURL=2555.1d6b150f.chunk.js.map