{"version":3,"file":"static/js/2406.a697c5b3.chunk.js","mappings":"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","sources":["components/UserComps/ShowUserProfile.js","pages/UserPages/ProfilePage.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Link, useActionData } from \"react-router-dom\";\nimport { getAuthToken } from \"../../util/Auth\";\n\nfunction ShowUserProfile({ user }) {\n  const imgToken = getAuthToken();\n\n  const data = useActionData();\n\n  const [imageUrl, setImageUrl] = useState(\"\");\n\n  useEffect(() => {\n    const fetchImage = async () => {\n      try {\n        const response = await fetch(`https://homes-test.onrender.com/upload/${user.id}`, {\n          headers: {\n            Authorization: \"Bearer \" + imgToken,\n          },\n        });\n\n        if (response.ok) {\n          const blob = await response.blob();\n          const url = URL.createObjectURL(blob);\n          setImageUrl(url);\n        } else {\n          console.error(\"Error fetching image:\", response.status);\n        }\n      } catch (error) {\n        console.error(\"Error fetching image:\", error);\n      }\n    };\n\n    fetchImage();\n  }, [user]);\n\n  return (\n    <React.Fragment>\n      {data && data.errors && (\n        <ul>\n          {Object.values(data.errors).map((err) => (\n            <li key={err}>{err}</li>\n          ))}\n        </ul>\n      )}\n      <div className=\"flex gap-x-4\">\n        {imageUrl && (\n          <img\n            className=\"h-12 w-12 flex-none rounded-full bg-gray-50\"\n            src={imageUrl}\n            alt=\"Profile\"\n          />\n        )}\n        <div className=\"min-w-0 flex-auto\">\n          <p className=\"text-sm font-semibold leading-6 text-gray-900\">\n            {user.first_name}'s Information\n          </p>\n          <p className=\"mt-1 truncate text-xs leading-5 text-gray-500\">\n            {\" \"}\n            General details and Information.\n          </p>\n        </div>\n      </div>\n\n      <div className=\"px-4 py-3 sm:grid sm:grid-cols-3 hover:bg-white sm:gap-4 sm:px-0\">\n        <dt className=\"text-sm font-medium leading-6 text-gray-900\">\n          Full name\n        </dt>\n        <dd className=\"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0\">\n          {user.first_name} {user.last_name}\n        </dd>\n      </div>\n      <div className=\"px-4 py-3 sm:grid sm:grid-cols-3 hover:bg-white sm:gap-4 sm:px-0\">\n        <dt className=\"text-sm font-medium leading-6 text-gray-900\">\n          Username\n        </dt>\n        <dd className=\"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0\">\n          {user.username}\n        </dd>\n      </div>\n      <div className=\"px-4 py-3 sm:grid sm:grid-cols-3 hover:bg-white sm:gap-4 sm:px-0\">\n        <dt className=\"text-sm font-medium leading-6 text-gray-900\">\n          User type\n        </dt>\n        <dd className=\"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0\">\n          {user.is_admin === true ? \"Admin\" : \"Care Giver\"}\n        </dd>\n      </div>\n\n      <div className=\" px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n        <dd>\n          <Link to={`./edit`}>\n            <button className=\"px-4 py-2 text-sm font-medium text-gray-900 bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500\">\n              Edit\n            </button>\n          </Link>\n        </dd>\n      </div>\n    </React.Fragment>\n  );\n}\n\nexport default ShowUserProfile;\n","import React from \"react\";\nimport { json, useRouteLoaderData } from \"react-router-dom\";\nimport ShowUserProfile from \"../../components/UserComps/ShowUserProfile\";\nimport { getAuthToken } from \"../../util/Auth\";\n\nfunction ProfilePage() {\n  const user = useRouteLoaderData(\"profile\");\n  return (\n    <React.Fragment>\n      <main>\n        <div className=\"mx-auto max-w-7xl py-6 sm:px-6 lg:px-8\">\n      <ShowUserProfile user={user} />\n      </div>\n      </main>\n    </React.Fragment>\n  );\n}\n\nexport default ProfilePage;\n\nexport async function loader({ request }) {\n  let url = \"https://homes-test.onrender.com/current_user\";\n  const token = getAuthToken();\n  const response = await fetch(url, {\n    method: \"get\",  \n    headers: {\n      Authorization: \"Bearer \" + token,\n      \"Access-Control-Allow-Origin\": \"*\",\n    },\n  });\n  if (response.status === 400) {\n    return response;\n  }\n  if (response.status === 404) {\n    return response;\n  }\n  if (!response.ok) {\n    throw json({ message: \"Server Error\" }, { status: 500 });\n  }\n\n  const resData = await response.json();\n  console.log(resData)\n  return resData;\n}\n\n\n"],"names":["_ref","user","imgToken","getAuthToken","data","useActionData","_useState","useState","_useState2","_slicedToArray","imageUrl","setImageUrl","useEffect","fetchImage","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","blob","url","wrap","_context","prev","next","fetch","concat","id","headers","Authorization","sent","ok","URL","createObjectURL","console","error","status","t0","stop","apply","arguments","_jsxs","React","children","errors","_jsx","Object","values","map","err","className","src","alt","first_name","last_name","username","is_admin","Link","to","useRouteLoaderData","ShowUserProfile","loader","_x","_loader","token","resData","request","method","abrupt","json","message","log"],"sourceRoot":""}