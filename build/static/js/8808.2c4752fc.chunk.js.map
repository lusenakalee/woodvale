{"version":3,"file":"static/js/8808.2c4752fc.chunk.js","mappings":"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","sources":["components/ActivityComps/ActivityForm.js"],"sourcesContent":["import React from \"react\";\nimport {\n  Form,\n  json,\n  redirect,\n  useActionData,\n  useNavigate,\n  useNavigation,\n} from \"react-router-dom\";\nimport { getAuthToken } from \"../../util/Auth\";\n\nfunction ActivityForm({ activity, method, title }) {\n  const navigate = useNavigate();\n  const navigation = useNavigation();\n  const data = useActionData();\n  const isSubmitting = navigation.state === \"submitting\";\n  function cancelHandler() {\n    navigate(\"..\");\n  }\n\n  return (\n    <React.Fragment>\n      {title}\n      <Form method={method}>\n        <div className=\"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6\">\n          <div className=\"sm:col-span-3\">\n            <label\n              htmlFor=\"first-name\"\n              className=\"block text-sm font-medium leading-6 text-gray-900\"\n            >\n              Activity name\n            </label>\n            <div className=\"mt-2\">\n              <input\n                type=\"text\"\n                name=\"name\"\n                required\n                id=\"first-name\"\n                autoComplete=\"given-name\"\n                defaultValue={activity ? activity.name : \"\"}\n                className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\n              />\n            </div>\n          </div>\n\n          <div className=\"col-span-full\">\n            <label\n              htmlFor=\"about\"\n              className=\"block text-sm font-medium leading-6 text-gray-900\"\n            >\n              Activity description\n            </label>\n            <div className=\"mt-2\">\n              <textarea\n                id=\"about\"\n                name=\"description\"\n                required\n                rows={3}\n                className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\n                defaultValue={activity ? activity.description : \"\"}\n              />\n            </div>\n            <p className=\"mt-3 text-sm leading-6 text-gray-600\">\n              Write a few sentences about the activity.\n            </p>\n          </div>\n\n          <div className=\"sm:col-span-3\">\n            <label\n              htmlFor=\"date\"\n              className=\"block text-sm font-medium leading-6 text-gray-900\"\n            >\n              Event Date\n            </label>\n            <div className=\"mt-2\">\n              <input\n                id=\"date\"\n                name=\"event_date\"\n                type=\"date\"\n                required\n                defaultValue={activity ? activity.event_date : \"\"}\n                className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:max-w-xs sm:text-sm sm:leading-6\"\n              />\n            </div>\n          </div>\n\n          \n\n          <div className=\"flex justify-between sm:col-span-4\">\n            <button\n              onClick={cancelHandler}\n              className=\"px-4 py-2 text-sm font-medium text-gray-900 bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            >\n              Back\n            </button>\n            <button\n              type=\"submit\"\n              disabled={isSubmitting}\n              className=\"px-4 py-2 text-sm font-medium text-gray-900 bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            >\n              {isSubmitting ? \"Submitting...\" : \"Save\"}\n            </button>\n          </div>\n        </div>\n      </Form>\n    </React.Fragment>\n  );\n}\n\nexport default ActivityForm;\n\nexport async function action({ request, params }) {\n  const method = request.method;\n  const data = await request.formData();\n  const token = getAuthToken();\n\n  const activityData = {\n    name: data.get(\"name\"),\n    description: data.get(\"description\"),\n    event_date: data.get(\"event_date\"),\n  };\n  let url = \"https://woodvale-test-2.onrender.com/activity\";\n  if (method === \"POST\") {\n    const response = await fetch(url, {\n      method: method,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token,\n        \"Access-Control-Allow-Origin\": \"*\",\n      },\n      body: JSON.stringify(activityData),\n    });\n    if (response.status === 400) {\n      return response;\n    }\n    if (!response.ok) {\n      throw json({ message: \"Failed to save the activity\" }, { status: 500 });\n    }\n\n    return redirect(\"/login/activity\");\n  } else {\n    const id = params.id;\n    url = \"/activity/\" + id;\n    const response = await fetch(url, {\n      method: method,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token,\n        \"Access-Control-Allow-Origin\": \"*\",\n      },\n      body: JSON.stringify(activityData),\n    });\n    if (!response.ok) {\n      window.alert(\"failed update\");\n      throw json({ message: \"Failed to update the activity\" }, { status: 500 });\n    }\n\n    return redirect(\"/login/activity\");\n  }\n}\n"],"names":["action","_x","_action","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_ref2","request","params","method","data","token","activityData","url","response","id","wrap","_context","prev","next","formData","sent","getAuthToken","name","get","description","event_date","fetch","headers","Authorization","body","JSON","stringify","status","abrupt","ok","json","message","redirect","window","alert","stop","_ref","activity","title","navigate","useNavigate","navigation","useNavigation","isSubmitting","useActionData","state","_jsxs","React","children","_jsx","Form","className","htmlFor","type","required","autoComplete","defaultValue","rows","onClick","disabled"],"sourceRoot":""}