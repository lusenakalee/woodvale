{"version":3,"file":"static/js/5722.479116e8.chunk.js","mappings":"sQAsCA,MAhCA,SAAuBA,GAAmB,IAAhBC,EAAWD,EAAXC,YA0BxB,OACAC,EAAAA,EAAAA,KAACC,EAAAA,SAAc,CAAAC,SACZH,EAAYI,KAAI,SAACC,GAAU,OAAIA,EAAWC,WAAW,KAE1D,ECxBA,MAPA,WACI,IAAMN,GAAcO,EAAAA,EAAAA,IAAmB,eACzC,OACEN,EAAAA,EAAAA,KAACO,EAAc,CAACR,YAAaA,GAEjC,EAIO,SAAeS,EAAMC,GAAA,OAAAC,EAAAC,MAAC,KAADC,UAAA,CAyBzB,SAAAF,IAAA,OAAAA,GAAAG,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAzBI,SAAAC,EAAAlB,GAAA,IAAAmB,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAR,EAAAA,EAAAA,KAAAS,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAGyB,OAHM5B,EAAP6B,QAASV,EAAMnB,EAANmB,OAC9BC,EAAKD,EAAOC,GACdC,EAAM,mDAAqDD,EACzDE,GAAQQ,EAAAA,EAAAA,gBAAcJ,EAAAE,KAAA,EAELG,MAAMV,EAAK,CAChCW,OAAQ,MACRC,QAAS,CACPC,cAAe,UAAYZ,EAC3B,8BAA+B,OAEhC,KAAD,EANY,GAOU,OAPlBC,EAAQG,EAAAS,MAODC,OAAc,CAAAV,EAAAE,KAAA,eAAAF,EAAAW,OAAA,SAClBd,GAAQ,UAEO,MAApBA,EAASa,OAAc,CAAAV,EAAAE,KAAA,gBAAAF,EAAAW,OAAA,SAChBd,GAAQ,WAEdA,EAASe,GAAG,CAADZ,EAAAE,KAAA,eACRW,EAAAA,EAAAA,IAAK,CAAEC,QAAS,aAAe,CAAEJ,OAAQ,MAAO,KAAD,UAAAV,EAAAE,KAAA,GAGjCL,EAASgB,OAAO,KAAD,GACjB,OADdf,EAAOE,EAAAS,KACbM,QAAQC,IAAIlB,GAAQE,EAAAW,OAAA,SACbb,GAAO,yBAAAE,EAAAiB,OAAA,GAAAzB,EAAA,MACfL,MAAA,KAAAC,UAAA,C","sources":["components/AttachmentComps/AttachmentList.js","pages/AttachmentPages/AllAttachmentsPage.js"],"sourcesContent":["import React from \"react\";\nimport { json, redirect, useSubmit } from \"react-router-dom\";\nimport { getAuthToken } from \"../../util/Auth\";\nimport { TableCell, TableRow } from \"@tremor/react\";\nimport { Link } from \"react-router-dom\";\n\nfunction AttachmentList({ attachments }) {\n  async function startDeleteHandler(resident_id, id) {\n    const proceed = window.confirm(\"Are you sure?\");\n    const token = getAuthToken();\n    if (proceed) {\n      const response = await fetch(\n        `https://homes-test.onrender.com/resident/upload/${resident_id}/${id}`,\n        {\n          method: \"DELETE\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: \"Bearer \" + token,\n          },\n        }\n      );\n      if (!response.ok) {\n        throw json(\n          { message: \"Could not delete attachment.\" },\n          {\n            status: 500,\n          }\n        );\n      }\n      return redirect(`/login/residents/${resident_id}/attachment`);\n    }\n  }\n  return (\n  <React.Fragment>\n    {attachments.map((attachment)=>(attachment.upload_date))}\n  </React.Fragment>);\n}\n\nexport default AttachmentList;\n","import React from 'react'\nimport { json, useRouteLoaderData } from 'react-router-dom';\nimport { getAuthToken } from '../../util/Auth';\nimport AttachmentList from '../../components/AttachmentComps/AttachmentList';\n\nfunction AllAttachmentsPage() {\n    const attachments = useRouteLoaderData(\"attachments\")\n  return (\n    <AttachmentList attachments={attachments}/>\n  )\n}\n\nexport default AllAttachmentsPage\n\nexport async function loader({ request, params }) {\n    const id = params.id;\n    let url = \"https://homes-test.onrender.com/resident/upload/\" + id;\n    const token = getAuthToken();\n\n    const response = await fetch(url, {\n      method: \"get\",\n      headers: {\n        Authorization: \"Bearer \" + token,\n        \"Access-Control-Allow-Origin\": \"*\",\n      },\n    });\n    if (response.status === 404) {\n      return response;\n    }\n    if (response.status === 400) {\n        return response;\n      }\n    if (!response.ok) {\n      throw json({ message: \"Server error\" }, { status: 500 });\n    }\n  \n    const resData = await response.json();\n    console.log(resData)\n    return resData;\n  }"],"names":["_ref","attachments","_jsx","React","children","map","attachment","upload_date","useRouteLoaderData","AttachmentList","loader","_x","_loader","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","params","id","url","token","response","resData","wrap","_context","prev","next","request","getAuthToken","fetch","method","headers","Authorization","sent","status","abrupt","ok","json","message","console","log","stop"],"sourceRoot":""}