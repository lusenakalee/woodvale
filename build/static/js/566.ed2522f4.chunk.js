"use strict";(self.webpackChunkwoodvale=self.webpackChunkwoodvale||[]).push([[566],{6988:function(e,t,n){n.d(t,{Z:function(){return c}});var a=n(2791),r={backdrop:"Modal_backdrop__b7dRO",modal:"Modal_modal__wqjFJ","slide-down":"Modal_slide-down__+S91a"},s=n(4164),i=n(184);function o(e){return(0,i.jsx)("div",{className:r.backdrop})}function l(e){return(0,i.jsx)("div",{className:r.modal,children:(0,i.jsx)("div",{className:r.content,children:e.children})})}var d=document.getElementById("overlays");var c=function(e){return(0,i.jsxs)(a.Fragment,{children:[s.createPortal((0,i.jsx)(o,{}),d),s.createPortal((0,i.jsx)(l,{children:e.children}),d)]})}},566:function(e,t,n){n.r(t);var a=n(4165),r=n(5861),s=n(9439),i=n(2791),o=n(6988),l=n(7689),d=n(8127),c=n(184);t.default=function(){var e=(0,l.V4)("resident-detail").resident,t=(0,l.s0)(),n=(0,i.useState)(""),u=(0,s.Z)(n,2),m=u[0],f=u[1],p=(0,i.useState)(!1),h=(0,s.Z)(p,2),x=h[0],b=h[1],v=(0,i.useState)(null),w=(0,s.Z)(v,2),g=w[0],j=w[1],k=function(){var n=(0,r.Z)((0,a.Z)().mark((function n(r){var s,i,o,l;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),s=(0,d.getAuthToken)(),b(!1),(i=new FormData).append("file",g),i.append("description",m),n.prev=6,n.next=9,fetch("https://homes-test.onrender.com/resident/upload/".concat(e.id),{method:"POST",headers:{Authorization:"Bearer "+s},body:i});case 9:if(!(o=n.sent).ok){n.next=15;break}window.confirm("File uploaded successfully")&&(b(!0),t("..")),n.next=23;break;case 15:if(400!==o.status){n.next=22;break}return n.next=18,o.json();case 18:l=n.sent,window.alert(l.message),n.next=23;break;case 22:window.alert("Failed to upload");case 23:n.next=28;break;case 25:n.prev=25,n.t0=n.catch(6),window.alert("Network error",n.t0);case 28:case"end":return n.stop()}}),n,null,[[6,25]])})));return function(e){return n.apply(this,arguments)}}();return(0,c.jsx)(o.Z,{children:(0,c.jsx)("form",{onSubmit:k,children:(0,c.jsxs)("div",{className:"mb-3",children:[(0,c.jsx)("label",{htmlFor:"formFileMultiple",className:"form-label",children:(0,c.jsx)("h2",{className:"text-base font-semibold leading-7 text-gray-900",children:"Resident attachment"})}),(0,c.jsx)("input",{name:"file",className:"form-control mt-1 text-sm leading-6 text-gray-600 ",type:"file",id:"formFileMultiple",onChange:function(e){j(e.target.files[0])},required:!0}),(0,c.jsx)("input",{type:"text",name:"description",placeholder:"Description",required:!0,onChange:function(e){f(e.target.value)}}),(0,c.jsx)("br",{}),(0,c.jsxs)("div",{className:"space-x-4",children:[(0,c.jsx)("button",{className:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",type:"submit",disabled:x,children:x?"Submitting":"Submit"}),(0,c.jsx)("button",{onClick:function(){t("..")},type:"button",className:"text-sm font-semibold leading-6 text-gray-900",children:"Cancel"})]})]})})})}}}]);
//# sourceMappingURL=566.ed2522f4.chunk.js.map