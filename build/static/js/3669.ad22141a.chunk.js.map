{"version":3,"file":"static/js/3669.ad22141a.chunk.js","mappings":"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","sources":["components/UserComps/UserForm.js","pages/UserPages/NewUserPage.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport {\r\n  Form,\r\n  json,\r\n  redirect,\r\n  useActionData,\r\n  useNavigate,\r\n  useNavigation,\r\n} from \"react-router-dom\";\r\nimport { getAuthToken } from \"../../util/Auth\";\r\n\r\nfunction UserForm({ method, user, title }) {\r\n  const navigate = useNavigate();\r\n  const navigation = useNavigation();\r\n  const [selectedOption, setSelectedOption] = useState(null);\r\n  const data = useActionData();\r\n  const handleOptionChange = (e) => {\r\n    setSelectedOption(e.target.value);\r\n  };\r\n\r\n  const isSubmitting = navigation.state === \"submitting\";\r\n  function cancelHandler() {\r\n    navigate(\"..\");\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Form method={method}>\r\n        <div className=\"space-y-12\">\r\n          <div className=\"border-b border-gray-900/10 pb-12\">\r\n            <p className=\"mt-1 text-sm leading-6 text-gray-600\">\r\n              Kindly fill in correct details\r\n            </p>\r\n            {data && data.errors && (\r\n              <ul>\r\n                {Object.values(data.errors).map((err) => (\r\n                  <li key={err}>{err}</li>\r\n                ))}\r\n              </ul>\r\n            )}\r\n            {data && data.message && <p>{data.message}</p>}\r\n            <div className=\"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6\">\r\n              <div className=\"sm:col-span-3\">\r\n                <label\r\n                  htmlFor=\"first-name\"\r\n                  className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n                >\r\n                  First name\r\n                </label>\r\n                <div className=\"mt-2\">\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"first_name\"\r\n                    id=\"first-name\"\r\n                    autoComplete=\"given-name\"\r\n                    required\r\n                    defaultValue={user ? user.first_name : \" \"}\r\n                    className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"sm:col-span-3\">\r\n                <label\r\n                  htmlFor=\"last_name\"\r\n                  className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n                >\r\n                  Last name\r\n                </label>\r\n                <div className=\"mt-2\">\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"last_name\"\r\n                    id=\"last_name\"\r\n                    autoComplete=\"family-name\"\r\n                    required\r\n                    defaultValue={user ? user.last_name : \" \"}\r\n                    className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"sm:col-span-3\">\r\n                <label\r\n                  htmlFor=\"username\"\r\n                  className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n                >\r\n                  Set user name\r\n                </label>\r\n                <div className=\"mt-2\">\r\n                  <input\r\n                    type=\"email\"\r\n                    name=\"username\"\r\n                    id=\"username\"\r\n                    required\r\n                    autoComplete=\"family-name\"\r\n                    defaultValue={user ? user.username : \" \"}\r\n                    className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"sm:col-span-3\">\r\n                <label\r\n                  htmlFor=\"password1\"\r\n                  className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n                >\r\n                  Set password\r\n                </label>\r\n                <div className=\"mt-2\">\r\n                  <input\r\n                    type=\"text\"\r\n                    required\r\n                    name=\"password1\"\r\n                    id=\"password1\"\r\n                    className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"sm:col-span-3\">\r\n                <label\r\n                  htmlFor=\"password2\"\r\n                  className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n                >\r\n                  Confirm password\r\n                </label>\r\n                <div className=\"mt-2\">\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"password2\"\r\n                    required\r\n                    id=\"password2\"\r\n                    className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"mt-10 space-y-10 space-x-5\">\r\n              <fieldset className=\"mt-10 space-y-10 space-x-5\">\r\n                <legend className=\"text-sm font-semibold leading-6 text-gray-900\">\r\n                  Is the user you are adding an Admin?\r\n                </legend>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"is-admin\"\r\n                    value=\"true\"\r\n                    checked={selectedOption === \"true\"}\r\n                    onChange={handleOptionChange}\r\n                  />\r\n                  True\r\n                </label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"is-admin\"\r\n                    value=\"false\"\r\n                    checked={selectedOption === \"false\"}\r\n                    onChange={handleOptionChange}\r\n                  />\r\n                  False\r\n                </label>\r\n              </fieldset>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex justify-between sm:col-span-4\">\r\n            <button\r\n              onClick={cancelHandler}\r\n              className=\"px-4 py-2 text-sm font-medium text-gray-900 bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n            >\r\n              Back\r\n            </button>\r\n            <button\r\n              type=\"submit\"\r\n              disabled={isSubmitting}\r\n              className=\"px-4 py-2 text-sm font-medium text-gray-900 bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n            >\r\n              {isSubmitting ? \"Submitting...\" : \"Save\"}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </Form>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default UserForm;\r\nexport async function action({ request, params }) {\r\n  const data = await request.formData();\r\n  const method = request.method;\r\n  const token = getAuthToken();\r\n  const signupData = {\r\n    username: data.get(\"username\"),\r\n    password1: data.get(\"password1\"),\r\n    password2: data.get(\"password2\"),\r\n    first_name: data.get(\"first_name\"),\r\n    last_name: data.get(\"last_name\"),\r\n    is_admin: data.get(\"is-admin\"), //boolean field should be a dropdown of true or false\r\n  };\r\n  if (method === \"POST\") {\r\n    const response = await fetch(\"https://homes-test.onrender.com/user\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"Access-Control-Allow-Origin\": \"*\",\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n      body: JSON.stringify(signupData),\r\n    });\r\n    if (response.status === 409) {\r\n      return response;\r\n    }\r\n\r\n    if (response.status === 417) {\r\n      return response;\r\n    }\r\n    if (!response.ok) {\r\n      throw json({ message: \"Could not register user\" }, { status: 500 });\r\n    }\r\n\r\n    return redirect(\"/login/team\");\r\n  } else {\r\n    const id = params.id;\r\n    const response = await fetch(\"https://homes-test.onrender.com/user/\" + id, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"Access-Control-Allow-Origin\": \"*\",\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n      body: JSON.stringify(signupData),\r\n    });\r\n    if (response.status === 409) {\r\n      return response;\r\n    }\r\n\r\n    if (response.status === 417) {\r\n      return response;\r\n    }\r\n    if (!response.ok) {\r\n      throw json({ message: \"Could not update user\" }, { status: 500 });\r\n    }\r\n\r\n    return redirect(\"/login/team\");\r\n  }\r\n}\r\n","import React from 'react'\r\nimport UserForm from '../../components/UserComps/UserForm'\r\n\r\nfunction NewUserPage() {\r\n  return (\r\n    <React.Fragment>\r\n        <UserForm method=\"post\" title=\"Create a new user\"/>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default NewUserPage\r\n"],"names":["action","_x","_action","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_ref2","request","params","data","method","token","signupData","response","id","_response","wrap","_context","prev","next","formData","sent","getAuthToken","username","get","password1","password2","first_name","last_name","is_admin","fetch","headers","Authorization","body","JSON","stringify","status","abrupt","ok","json","message","redirect","stop","_ref","user","navigate","title","useNavigate","navigation","useNavigation","_useState","useState","_useState2","_slicedToArray","selectedOption","setSelectedOption","useActionData","handleOptionChange","e","target","value","isSubmitting","state","_jsx","React","children","Form","_jsxs","className","errors","Object","values","map","err","htmlFor","type","name","autoComplete","required","defaultValue","checked","onChange","onClick","disabled","UserForm"],"sourceRoot":""}