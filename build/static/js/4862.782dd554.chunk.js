"use strict";(self.webpackChunkwoodvale=self.webpackChunkwoodvale||[]).push([[4862],{4862:function(e,s,r){r.r(s),r.d(s,{default:function(){return f},loader:function(){return p}});var t=r(4165),n=r(5861),a=r(2791),i=r(7689),l=r(2620),c=r(9439),x=r(1087),u=r(6418),m=r(9479),h=r(7929),d=r(184);var o=function(e){var s=e.users,r=(0,a.useState)([]),t=(0,c.Z)(r,2),n=t[0],i=t[1],l=s.filter((function(e){return n.includes(e.first_name)||0===n.length}));return(0,d.jsxs)(a.Fragment,{children:[(0,d.jsx)("div",{children:(0,d.jsxs)(h.kC,{className:"space-x-0.5",justifyContent:"start",alignItems:"center",children:[(0,d.jsx)(h.Dx,{children:"Team"}),(0,d.jsx)(h.JO,{icon:u.Z,variant:"simple",tooltip:"Shows general employee information"}),(0,d.jsx)(h.Dx,{})]})}),(0,d.jsxs)("div",{className:"flex space-x-2",children:[(0,d.jsx)(h.NU,{className:"max-w-full sm:max-w-xs",onValueChange:i,placeholder:"Search by name...",children:s.map((function(e){return(0,d.jsx)(h.wn,{value:e.first_name,children:e.first_name},e.first_name)}))}),(0,d.jsxs)(h.Ph,{className:"max-w-full sm:max-w-xs",defaultValue:"all",children:[(0,d.jsx)(h.Ql,{value:"all",children:"All"}),(0,d.jsx)(h.Ql,{value:"first_name",children:"First Name"}),(0,d.jsx)(h.Ql,{value:"last_name",children:"Last Name"}),(0,d.jsx)(h.Ql,{value:"username",children:"Username"})]}),(0,d.jsxs)("button",{type:"button",className:"inline-flex items-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:[(0,d.jsx)(m.Z,{className:"-ml-0.5 mr-1.5 h-5 w-5 text-gray-400","aria-hidden":"true"}),"Export"]})]}),(0,d.jsxs)(h.iA,{className:"mt-6",children:[(0,d.jsx)(h.ss,{children:(0,d.jsxs)(h.SC,{children:[(0,d.jsx)(h.xs,{children:"First Name"}),(0,d.jsx)(h.xs,{className:"text-right",children:"Last Name"}),(0,d.jsx)(h.xs,{className:"text-right",children:"Username"}),(0,d.jsx)(h.xs,{className:"text-right",children:"User Type"})]})}),(0,d.jsx)(h.RM,{children:l.map((function(e){return(0,d.jsxs)(h.SC,{children:[(0,d.jsx)(x.rU,{to:"./".concat(e.id),children:(0,d.jsx)(h.pj,{children:e.first_name})}),(0,d.jsx)(h.pj,{className:"text-right",children:e.last_name}),(0,d.jsx)(h.pj,{className:"text-right",children:e.username}),(0,d.jsx)(h.pj,{className:"text-right",children:!0===e.is_admin?"Admin":"User"})]},e.id)}))})]})]})},j=r(8127);var f=function(){var e=(0,i.V4)("users");return(0,d.jsx)(a.Fragment,{children:(0,d.jsx)(o,{users:e})})};function p(){return g.apply(this,arguments)}function g(){return(g=(0,n.Z)((0,t.Z)().mark((function e(){var s,r,n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=(0,j.getAuthToken)(),e.next=3,fetch("https://homes-test.onrender.com/user",{method:"GET",headers:{Authorization:"Bearer "+s,"Access-Control-Allow-Origin":"*"}});case 3:if(400!==(r=e.sent).status){e.next=6;break}throw(0,l.AV)({message:"Only the admin can view users"},{status:400});case 6:if(r.ok){e.next=10;break}throw(0,l.AV)({message:"Cant get users"},{status:500});case 10:return e.next=12,r.json();case 12:return n=e.sent,e.abrupt("return",n);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=4862.782dd554.chunk.js.map