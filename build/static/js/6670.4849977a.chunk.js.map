{"version":3,"file":"static/js/6670.4849977a.chunk.js","mappings":"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","sources":["../node_modules/@heroicons/react/24/outline/esm/ArrowDownTrayIcon.js","components/AttachmentComps/AttachmentList.js","pages/AttachmentPages/AllAttachmentsPage.js","../node_modules/@heroicons/react/24/outline/esm/TrashIcon.js"],"sourcesContent":["import * as React from \"react\";\nfunction ArrowDownTrayIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3\"\n  }));\n}\nconst ForwardRef = React.forwardRef(ArrowDownTrayIcon);\nexport default ForwardRef;","import React, { useEffect, useState } from \"react\";\r\nimport { json, redirect, useSubmit } from \"react-router-dom\";\r\nimport { getAuthToken } from \"../../util/Auth\";\r\nimport {\r\n  InformationCircleIcon,\r\n  PrinterIcon,\r\n  ArrowDownTrayIcon,\r\n  TrashIcon,\r\n} from \"@heroicons/react/24/outline\";\r\n\r\nimport {\r\n  Icon,\r\n  Table,\r\n  TableRow,\r\n  TableCell,\r\n  TableHead,\r\n  TableHeaderCell,\r\n  TableBody,\r\n  BadgeDelta,\r\n  Title,\r\n  Flex,\r\n  Select,\r\n  SelectItem,\r\n  MultiSelect,\r\n  MultiSelectItem,\r\n  DownloadIcon,\r\n  Text, // Step 1: Import the DownloadIcon\r\n} from \"@tremor/react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction AttachmentList({ attachments }) {\r\n  const [attachmentList, setAttachmentList] = useState(attachments);\r\n\r\n  useEffect(() => {\r\n    setAttachmentList(attachments);\r\n  }, [attachments]);\r\n  async function startDeleteHandler(resident_id, id) {\r\n    const proceed = window.confirm(\"Are you sure?\");\r\n    const token = getAuthToken();\r\n    if (proceed) {\r\n      const response = await fetch(\r\n        `https://homes-test.onrender.com/resident/upload/${resident_id}/${id}`,\r\n        {\r\n          method: \"DELETE\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: \"Bearer \" + token,\r\n          },\r\n        }\r\n      );\r\n      if (response.ok) {\r\n        setAttachmentList((prevAttachments) =>\r\n          prevAttachments.filter((attachment) => attachment.id !== id)\r\n        );\r\n      }\r\n      if (!response.ok) {\r\n        throw json(\r\n          { message: \"Could not delete attachment.\" },\r\n          {\r\n            status: 500,\r\n          }\r\n        );\r\n      }\r\n      return redirect(`/login/residents/${resident_id}/attachment`);\r\n    }\r\n  }\r\n\r\n  // Step 2: Function to handle download action\r\n  const downloadHandler = (resident_id, id, description) => {\r\n    const token = getAuthToken();\r\n    fetch(\r\n      `https://homes-test.onrender.com/resident/upload/${resident_id}/${id}`,\r\n      {\r\n        headers: {\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      }\r\n    )\r\n      .then((response) => {\r\n        if (response.ok) {\r\n          return response.blob();\r\n        }\r\n        if (response.status === 404) {\r\n          window.alert(\"This attachment is blank\");\r\n        }\r\n      })\r\n      .then((blob) => {\r\n        const url = window.URL.createObjectURL(\r\n          new Blob([blob], { type: \"application/pdf\" })\r\n        );\r\n        const link = document.createElement(\"a\");\r\n        link.href = url;\r\n        link.setAttribute(\"download\", `attachment_${description}`);\r\n        document.body.appendChild(link);\r\n        link.click();\r\n        link.parentNode.removeChild(link);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error downloading attachment:\", error.message);\r\n      });\r\n  };\r\n\r\n  const ATTACHMENTS_PER_PAGE = 10; // Set the number of residents to display per page\r\n  const [currentPage, setCurrentPage] = useState(1); // Current page number\r\n  // Calculate pagination\r\n  const totalAttachments = attachments.length;\r\n  const totalPages = Math.ceil(totalAttachments / ATTACHMENTS_PER_PAGE);\r\n\r\n  // Get the slice of residents to display based on the current page\r\n  const startIndex = (currentPage - 1) * ATTACHMENTS_PER_PAGE;\r\n  const endIndex = startIndex + ATTACHMENTS_PER_PAGE;\r\n  const residentsToShow = attachments.slice(startIndex, endIndex);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Table className=\"mt-6 table w-full\">\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableHeaderCell className=\"\">Upload Date</TableHeaderCell>\r\n            <TableHeaderCell className=\" text-left\">Attachment</TableHeaderCell>\r\n            <TableHeaderCell className=\" text-left\">Download</TableHeaderCell>\r\n            <TableHeaderCell className=\" text-left\">Delete</TableHeaderCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {attachments.map((attachment) => (\r\n            <TableRow key={attachment.id} className=\"hover:bg-white\">\r\n              <TableCell className=\" hover:text-indigo-600 hover:underline\">\r\n                <Link to={`./${attachment.id}`}>{attachment.upload_date}</Link>\r\n              </TableCell>\r\n              <TableCell className=\" text-left\">\r\n                {attachment.description}\r\n              </TableCell>\r\n              <TableCell className=\" text-left\">\r\n                <div\r\n                  onClick={() =>\r\n                    downloadHandler(\r\n                      attachment.resident_id,\r\n                      attachment.id,\r\n                      attachment.description\r\n                    )\r\n                  }\r\n                  className=\"flex space-x-1 cursor-pointer hover:text-indigo-600 hover:underline\"\r\n                >\r\n                  <ArrowDownTrayIcon className=\"h-4 \" />\r\n                  <Text>Download {attachment.description}</Text>\r\n                </div>\r\n              </TableCell>\r\n              <div\r\n                onClick={() =>\r\n                  startDeleteHandler(attachment.resident_id, attachment.id)\r\n                }\r\n                className=\"flex space-x-2 hover:underline hover:text-indigo-600 cursor-pointer\"\r\n              >\r\n                <TrashIcon className=\"h-4 \" />\r\n                <Text>Delete {attachment.description}</Text>\r\n              </div>\r\n              <TableCell></TableCell>\r\n            </TableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n\r\n      {/* Pagination */}\r\n      <ol className=\"flex justify-center gap-1 text-xs font-medium mt-4\">\r\n        {currentPage > 1 && (\r\n          <li>\r\n            <a\r\n              href=\"#\"\r\n              onClick={() => setCurrentPage((prev) => prev - 1)}\r\n              className=\"inline-flex h-8 w-8 items-center justify-center rounded border border-gray-100 bg-white text-gray-900 rtl:rotate-180\"\r\n            >\r\n              <span className=\"sr-only\">Prev Page</span>\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                className=\"h-3 w-3\"\r\n                viewBox=\"0 0 20 20\"\r\n                fill=\"currentColor\"\r\n              >\r\n                <path\r\n                  fillRule=\"evenodd\"\r\n                  d=\"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z\"\r\n                  clipRule=\"evenodd\"\r\n                />\r\n              </svg>\r\n            </a>\r\n          </li>\r\n        )}\r\n\r\n        {Array.from({ length: totalPages }, (_, index) => index + 1).map(\r\n          (pageNum) => (\r\n            <li key={pageNum}>\r\n              <a\r\n                href=\"#\"\r\n                onClick={() => setCurrentPage(pageNum)}\r\n                className={`${\r\n                  pageNum === currentPage\r\n                    ? \"block h-8 w-8 rounded border-blue-600 bg-indigo-600 text-center leading-8 text-white\"\r\n                    : \"block h-8 w-8 rounded border border-gray-100 bg-white text-center leading-8 text-gray-900\"\r\n                }`}\r\n              >\r\n                {pageNum}\r\n              </a>\r\n            </li>\r\n          )\r\n        )}\r\n\r\n        {currentPage < totalPages && (\r\n          <li>\r\n            <a\r\n              href=\"#\"\r\n              onClick={() => setCurrentPage((prev) => prev + 1)}\r\n              className=\"inline-flex h-8 w-8 items-center justify-center rounded border border-gray-100 bg-white text-gray-900 rtl:rotate-180\"\r\n            >\r\n              <span className=\"sr-only\">Next Page</span>\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                className=\"h-3 w-3\"\r\n                viewBox=\"0 0 20 20\"\r\n                fill=\"currentColor\"\r\n              >\r\n                <path\r\n                  fillRule=\"evenodd\"\r\n                  d=\"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\"\r\n                  clipRule=\"evenodd\"\r\n                />\r\n              </svg>\r\n            </a>\r\n          </li>\r\n        )}\r\n      </ol>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default AttachmentList;\r\n","import React from 'react'\r\nimport { json, useRouteLoaderData } from 'react-router-dom';\r\nimport { getAuthToken } from '../../util/Auth';\r\nimport AttachmentList from '../../components/AttachmentComps/AttachmentList';\r\n\r\nfunction AllAttachmentsPage() {\r\n    const attachments = useRouteLoaderData(\"attachments\")\r\n  return (\r\n    <AttachmentList attachments={attachments}/>\r\n  )\r\n}\r\n\r\nexport default AllAttachmentsPage\r\n\r\nexport async function loader({ request, params }) {\r\n    const id = params.id;\r\n    let url = \"https://homes-test.onrender.com/resident/upload/\" + id;\r\n    const token = getAuthToken();\r\n\r\n    const response = await fetch(url, {\r\n      method: \"get\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + token,\r\n        \"Access-Control-Allow-Origin\": \"*\",\r\n      },\r\n    });\r\n    if (response.status === 404) {\r\n      return response;\r\n    }\r\n    if (response.status === 400) {\r\n        return response;\r\n      }\r\n    if (!response.ok) {\r\n      throw json({ message: \"Server error\" }, { status: 500 });\r\n    }\r\n  \r\n    const resData = await response.json();\r\n    console.log(resData)\r\n    return resData;\r\n  }","import * as React from \"react\";\nfunction TrashIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0\"\n  }));\n}\nconst ForwardRef = React.forwardRef(TrashIcon);\nexport default ForwardRef;"],"names":["React","_ref","svgRef","title","titleId","props","_objectWithoutProperties","_excluded","Object","assign","xmlns","fill","viewBox","strokeWidth","stroke","ref","id","strokeLinecap","strokeLinejoin","d","attachments","_useState","useState","_useState2","_slicedToArray","setAttachmentList","_startDeleteHandler","_asyncToGenerator","_regeneratorRuntime","mark","_callee","resident_id","proceed","token","response","wrap","_context","prev","next","window","confirm","getAuthToken","fetch","concat","method","headers","Authorization","sent","ok","prevAttachments","filter","attachment","json","message","status","abrupt","redirect","stop","apply","arguments","useEffect","_useState3","_useState4","currentPage","setCurrentPage","totalAttachments","length","totalPages","Math","ceil","startIndex","endIndex","slice","_jsxs","children","Table","className","_jsx","TableHead","TableRow","TableHeaderCell","TableBody","map","TableCell","Link","to","upload_date","description","onClick","then","blob","alert","url","URL","createObjectURL","Blob","type","link","document","createElement","href","setAttribute","body","appendChild","click","parentNode","removeChild","catch","error","console","downloadHandler","ArrowDownTrayIcon","Text","_x","_x2","startDeleteHandler","TrashIcon","fillRule","clipRule","Array","from","_","index","pageNum","useRouteLoaderData","AttachmentList","loader","_loader","params","resData","request","log","ForwardRef"],"sourceRoot":""}