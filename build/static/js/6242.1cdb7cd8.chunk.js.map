{"version":3,"file":"static/js/6242.1cdb7cd8.chunk.js","mappings":"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","sources":["components/UserComps/EditProfile.js","pages/UserPages/EditProfilePage.js","../node_modules/@heroicons/react/24/outline/esm/UserCircleIcon.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  Form,\r\n  json,\r\n  redirect,\r\n  useActionData,\r\n  useNavigate,\r\n  useNavigation,\r\n} from \"react-router-dom\";\r\nimport { getAuthToken } from \"../../util/Auth\";\r\nimport { UserCircleIcon } from \"@heroicons/react/24/outline\";\r\nimport abstractUser from \"../../components/assets/images/abstractUser.png\";\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\n\r\nlet id;\r\nfunction EditProfile({ method, user, title }) {\r\n  const navigate = useNavigate();\r\n  const navigation = useNavigation();\r\n  const [file, setFile] = useState(null);\r\n  const data = useActionData();\r\n  const [imageUrl, setImageUrl] = useState(\"\");\r\n  const imgToken = getAuthToken();\r\n\r\n  if (data && data.errors) {\r\n    Object.values(data.errors).forEach((err) => {\r\n      toast.error(err);\r\n    });\r\n  }\r\n\r\n  //modal\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  const handleOpenModal = () => {\r\n    setIsOpen(true);\r\n  };\r\n\r\n  const handleCloseModal = () => {\r\n    setIsOpen(false);\r\n  };\r\n\r\n  id = user.id;\r\n  const isSubmitting = navigation.state === \"submitting\";\r\n\r\n  function cancelHandler() {\r\n    navigate(\"..\");\r\n  }\r\n\r\n  const handleFileChange = (event) => {\r\n    setFile(event.target.files[0]);\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    handleCloseModal();\r\n    const bearerToken = getAuthToken();\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"file\", file);\r\n\r\n    try {\r\n      const response = await fetch(`https://homes-test.onrender.com/${user.id}/upload`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          Authorization: \"Bearer \" + bearerToken,\r\n        },\r\n        body: formData,\r\n      });\r\n      if (response.status === 400) {\r\n        window.alert(\"Only Image attachment are allowed!!\");\r\n      }\r\n      if (response.ok) {\r\n        window.confirm(\"File uploaded successfully\");\r\n      } else {\r\n        window.alert(\"failed to upload\");\r\n      }\r\n    } catch (error) {\r\n      window.alert(\"Network error\", error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchImage = async () => {\r\n      try {\r\n        const response = await fetch(`https://homes-test.onrender.com/upload/${user.id}`, {\r\n          headers: {\r\n            Authorization: \"Bearer \" + imgToken,\r\n          },\r\n        });\r\n\r\n        if (response.ok) {\r\n          const blob = await response.blob();\r\n          const url = URL.createObjectURL(blob);\r\n          setImageUrl(url);\r\n        } else {\r\n          console.error(\"Error fetching image:\", response.status);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching image:\", error);\r\n      }\r\n    };\r\n\r\n    fetchImage();\r\n  }, [user]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <main>\r\n      <ToastContainer />\r\n        <div className=\"mx-auto max-w-7xl py-6 sm:px-6 lg:px-8\">\r\n          <div>\r\n            <button\r\n              type=\"button\"\r\n              onClick={handleOpenModal}\r\n              className=\"inline-flex opacity-80 items-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50\"\r\n            >\r\n              <UserCircleIcon\r\n                className=\"-ml-0.5 mr-1.5 h-5 w-5 text-gray-400\"\r\n                aria-hidden=\"true\"\r\n              />\r\n              Upload Picture\r\n            </button>\r\n          </div>\r\n          {isOpen && (\r\n            <div className=\"fixed inset-0 flex items-center justify-center z-50\">\r\n              <div className=\"fixed inset-0 bg-black opacity-50\"></div>\r\n              <div className=\"relative z-10 bg-white rounded-md w-96\">\r\n                <form onSubmit={handleSubmit}>\r\n                  <div className=\"p-6\">\r\n                    <h1 className=\"text-lg font-bold\">Profile Pic Upload</h1>\r\n                    <div className=\"mt-4\">\r\n                      <label\r\n                        htmlFor=\"formFileSm\"\r\n                        className=\"block font-semibold\"\r\n                      >\r\n                        Upload Your Image\r\n                      </label>\r\n                      <input\r\n                        className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm\"\r\n                        id=\"formFileSm\"\r\n                        type=\"file\"\r\n                        name=\"file\"\r\n                        onChange={handleFileChange}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"px-6 py-4 bg-gray-100 flex items-center justify-end gap-x-4\">\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={handleCloseModal}\r\n                      className=\"text-sm font-semibold text-gray-900\"\r\n                    >\r\n                      Close\r\n                    </button>\r\n                    <button\r\n                      type=\"submit\"\r\n                      className=\"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-600\"\r\n                    >\r\n                      Upload\r\n                    </button>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          )}\r\n          <Form method={method}>\r\n            <div className=\"space-y-12\">\r\n              <div className=\"border-b border-gray-900/10 pb-12\">\r\n                <p className=\"mt-1 text-sm leading-6 text-gray-600\">\r\n                  Kindly fill in correct details\r\n                  {data && data.errors && (\r\n                    <ul>\r\n                      {Object.values(data.errors).map((err) => (\r\n                        <li key={err}>{err}</li>\r\n                      ))}\r\n\r\n                    </ul>\r\n                  )}\r\n                  {data && data.message && <p>{data.message}</p>}\r\n\r\n                </p>\r\n                {imageUrl && (\r\n                  <img\r\n                    src={imageUrl}\r\n                    alt={abstractUser}\r\n                    className=\"h-24 rounded-lg\"\r\n                  />\r\n                )}\r\n                <div className=\"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6\">\r\n                  <div className=\"sm:col-span-3\">\r\n                    <label\r\n                      htmlFor=\"first-name\"\r\n                      className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n                    >\r\n                      First name\r\n                    </label>\r\n                    <div className=\"mt-2\">\r\n                      <input\r\n                        type=\"text\"\r\n                        name=\"first_name\"\r\n                        id=\"first-name\"\r\n                        autoComplete=\"given-name\"\r\n                        required\r\n                        defaultValue={user ? user.first_name : \" \"}\r\n                        className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"sm:col-span-3\">\r\n                    <label\r\n                      htmlFor=\"last_name\"\r\n                      className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n                    >\r\n                      Last name\r\n                    </label>\r\n                    <div className=\"mt-2\">\r\n                      <input\r\n                        type=\"text\"\r\n                        name=\"last_name\"\r\n                        id=\"last_name\"\r\n                        autoComplete=\"family-name\"\r\n                        required\r\n                        defaultValue={user ? user.last_name : \" \"}\r\n                        className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"sm:col-span-3\">\r\n                    <label\r\n                      htmlFor=\"username\"\r\n                      className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n                    >\r\n                      Set user name\r\n                    </label>\r\n                    <div className=\"mt-2\">\r\n                      <input\r\n                        type=\"email\"\r\n                        name=\"username\"\r\n                        id=\"username\"\r\n                        required\r\n                        autoComplete=\"family-name\"\r\n                        defaultValue={user ? user.username : \" \"}\r\n                        className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"sm:col-span-3\">\r\n                    <label\r\n                      htmlFor=\"password1\"\r\n                      className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n                    >\r\n                      Set password\r\n                    </label>\r\n                    <div className=\"mt-2\">\r\n                      <input\r\n                        type=\"text\"\r\n                        required\r\n                        name=\"password1\"\r\n                        id=\"password1\"\r\n                        className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"sm:col-span-3\">\r\n                    <label\r\n                      htmlFor=\"password2\"\r\n                      className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n                    >\r\n                      Confirm password\r\n                    </label>\r\n                    <div className=\"mt-2\">\r\n                      <input\r\n                        type=\"text\"\r\n                        name=\"password2\"\r\n                        required\r\n                        id=\"password2\"\r\n                        className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              {data && data.message && <p>{data.message}</p>}\r\n\r\n              <div className=\"flex justify-between sm:col-span-4\">\r\n                <button\r\n                  onClick={cancelHandler}\r\n                  className=\"px-4 py-2 text-sm font-medium text-gray-900 bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                >\r\n                  Back\r\n                </button>\r\n                <button\r\n                  type=\"submit\"\r\n                  disabled={isSubmitting}\r\n                  className=\"px-4 py-2 text-sm font-medium text-gray-900 bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                >\r\n                  {isSubmitting ? \"Submitting...\" : \"Save\"}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </Form>\r\n        </div>\r\n      </main>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default EditProfile;\r\nexport async function action({ request, params }) {\r\n  const data = await request.formData();\r\n  const method = request.method;\r\n  const token = getAuthToken();\r\n  const signupData = {\r\n    username: data.get(\"username\"),\r\n    password1: data.get(\"password1\"),\r\n    password2: data.get(\"password2\"),\r\n    first_name: data.get(\"first_name\"),\r\n    last_name: data.get(\"last_name\"),\r\n  };\r\n  const response = await fetch(\"https://homes-test.onrender.com/user/\" + id, {\r\n    method: method,\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      \"Access-Control-Allow-Origin\": \"*\",\r\n      Authorization: \"Bearer \" + token,\r\n    },\r\n    body: JSON.stringify(signupData),\r\n  });\r\n  if (response.status === 400) {\r\n    return response;\r\n  }\r\n  if (response.status === 409) {\r\n    return response;\r\n  }\r\n\r\n  if (response.status === 417) {\r\n    return response;\r\n  }\r\n  if (!response.ok) {\r\n    throw json({ message: \"Could edit user\" }, { status: 500 });\r\n  }\r\n\r\n  return redirect(\"/login/profile\");\r\n}\r\n","import React from 'react'\r\nimport EditProfile from '../../components/UserComps/EditProfile'\r\nimport { useRouteLoaderData } from 'react-router-dom'\r\n\r\nfunction EditProfilePage() {\r\n    const user = useRouteLoaderData('profile')\r\n  return (\r\n    <EditProfile user={user} method='patch'/>\r\n  )\r\n}\r\n\r\nexport default EditProfilePage","import * as React from \"react\";\nfunction UserCircleIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z\"\n  }));\n}\nconst ForwardRef = React.forwardRef(UserCircleIcon);\nexport default ForwardRef;"],"names":["id","action","_x2","_action","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee3","_ref4","request","data","method","token","signupData","response","wrap","_context3","prev","next","params","formData","sent","getAuthToken","username","get","password1","password2","first_name","last_name","fetch","headers","Authorization","body","JSON","stringify","status","abrupt","ok","json","message","redirect","stop","_ref","user","navigate","title","useNavigate","navigation","useNavigation","_useState","useState","_useState2","_slicedToArray","file","setFile","useActionData","_useState3","_useState4","imageUrl","setImageUrl","imgToken","errors","Object","values","forEach","err","toast","error","_useState5","_useState6","isOpen","setIsOpen","handleCloseModal","isSubmitting","state","handleSubmit","_ref2","_callee","event","bearerToken","_context","preventDefault","FormData","append","concat","window","alert","confirm","t0","_x","useEffect","fetchImage","_ref3","_callee2","blob","url","_context2","URL","createObjectURL","console","_jsx","React","children","_jsxs","ToastContainer","className","type","onClick","UserCircleIcon","onSubmit","htmlFor","name","onChange","target","files","Form","map","src","alt","abstractUser","autoComplete","required","defaultValue","disabled","useRouteLoaderData","EditProfile","ForwardRef","svgRef","titleId","props","_objectWithoutProperties","_excluded","assign","xmlns","fill","viewBox","strokeWidth","stroke","ref","strokeLinecap","strokeLinejoin","d"],"sourceRoot":""}