"use strict";(self.webpackChunkwoodvale=self.webpackChunkwoodvale||[]).push([[8960,4049],{4049:function(e,t,n){n.r(t),n.d(t,{action:function(){return u}});var s=n(4165),i=n(5861),r=n(2791),a=n(8127),o=n(7689),c=n(1087),d=n(2620),l=n(9085),m=(n(5462),n(184));function u(e){return g.apply(this,arguments)}function g(){return(g=(0,i.Z)((0,s.Z)().mark((function e(t){var n,i,r,o,c,l,m,u,g,h,x;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.request,i=t.params,r=n.method,e.next=4,n.formData();case 4:if(o=e.sent,c=(0,a.getAuthToken)(),l=i.id,m={condition:o.get("condition"),allergies:o.get("allergies"),medications:o.get("medication"),feeding_method:o.get("feeding_method"),immunization_records:o.get("immunization_records"),physician_contact:o.get("physician_contact"),resident_id:l},u={condition:o.get("condition"),allergies:o.get("allergies"),medications:o.get("medication"),feeding_method:o.get("feeding_method"),immunization_records:o.get("immunization_records"),physician_contact:o.get("physician_contact")},g="https://homes-test.onrender.com/medical-records","POST"!==r){e.next=21;break}return e.next=13,fetch(g,{method:r,headers:{"Content-Type":"application/json",Authorization:"Bearer "+c,"Access-Control-Allow-Origin":"*"},body:JSON.stringify(m)});case 13:if(400!==(h=e.sent).status){e.next=16;break}return e.abrupt("return",h);case 16:if(h.ok){e.next=18;break}throw(0,d.AV)({message:"Failed to save the medical record."},{status:500});case 18:case 29:return e.abrupt("return",(0,d.uX)("/login/residents/".concat(l,"/med-recs")));case 21:return g="/medical-records/".concat(l),e.next=24,fetch(g,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer "+c,"Access-Control-Allow-Origin":"*"},body:JSON.stringify(u)});case 24:if(400!==(x=e.sent).status){e.next=27;break}return e.abrupt("return",x);case 27:if(x.ok){e.next=29;break}throw(0,d.AV)({message:"Failed to save the medical record."},{status:500});case 30:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.default=function(e){e.record;var t=e.method,n=(e.title,(0,o.s0)()),s=(0,o.HJ)(),i=(0,o.nA)(),a="submitting"===s.state;return i&&i.errors&&Object.values(i.errors).forEach((function(e){l.Am.error(e)})),(0,m.jsxs)(r.Fragment,{children:[i&&i.errors&&(0,m.jsx)("ul",{children:Object.values(i.errors).map((function(e){return(0,m.jsx)("li",{children:e},e)}))}),i&&i.message&&(0,m.jsx)("p",{children:i.message}),(0,m.jsxs)(c.l0,{method:t,children:[(0,m.jsxs)("div",{className:"col-span-full",children:[(0,m.jsx)("label",{htmlFor:"condition",className:"block text-sm font-medium leading-6 text-gray-900",children:"Condition"}),(0,m.jsx)("div",{className:"mt-2",children:(0,m.jsx)("textarea",{id:"condition",required:!0,name:"condition",rows:3,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",defaultValue:""})}),(0,m.jsx)("p",{className:"mt-3 text-sm leading-6 text-gray-600",children:"Write about the resident's condition."})]}),(0,m.jsxs)("div",{className:"col-span-full",children:[(0,m.jsx)("label",{htmlFor:"allergies",className:"block text-sm font-medium leading-6 text-gray-900",children:"allergies"}),(0,m.jsx)("div",{className:"mt-2",children:(0,m.jsx)("textarea",{id:"allergies",required:!0,name:"allergies",rows:3,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",defaultValue:""})}),(0,m.jsx)("p",{className:"mt-3 text-sm leading-6 text-gray-600",children:"Write about the resident's allergies."})]}),(0,m.jsxs)("div",{className:"col-span-full",children:[(0,m.jsx)("label",{htmlFor:"medication",className:"block text-sm font-medium leading-6 text-gray-900",children:"medication"}),(0,m.jsx)("div",{className:"mt-2",children:(0,m.jsx)("textarea",{id:"medication",required:!0,name:"medication",rows:3,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",defaultValue:""})}),(0,m.jsx)("p",{className:"mt-3 text-sm leading-6 text-gray-600",children:"Write about the resident's medication."})]}),(0,m.jsxs)("div",{className:"sm:col-span-3",children:[(0,m.jsx)("label",{htmlFor:"feeding_method",className:"block text-sm font-medium leading-6 text-gray-900",children:"Feeding method"}),(0,m.jsx)("div",{className:"mt-2",children:(0,m.jsxs)("select",{id:"feeding_method",name:"feeding_method",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:max-w-xs sm:text-sm sm:leading-6",children:[(0,m.jsx)("option",{children:"Dependent"}),(0,m.jsx)("option",{children:"Independent"})]})})]}),(0,m.jsxs)("div",{className:"col-span-full",children:[(0,m.jsx)("label",{htmlFor:"immunization_records",className:"block text-sm font-medium leading-6 text-gray-900",children:"Immunization records"}),(0,m.jsx)("div",{className:"mt-2",children:(0,m.jsx)("textarea",{id:"immunization_records",required:!0,name:"immunization_records",rows:3,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",defaultValue:""})}),(0,m.jsx)("p",{className:"mt-3 text-sm leading-6 text-gray-600",children:"Write about the resident's medication."})]}),(0,m.jsxs)("div",{className:"sm:col-span-4 pt-10",children:[(0,m.jsx)("label",{className:"block text-sm font-medium leading-6 text-gray-900",children:"physician contact"}),(0,m.jsx)("div",{className:"mt-2",children:(0,m.jsx)("input",{id:"physician_contact",name:"physician_contact",autoComplete:"physician_contact",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]}),(0,m.jsx)("div",{className:" px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:(0,m.jsxs)("div",{className:"flex justify-between sm:col-span-4",children:[(0,m.jsx)("button",{onClick:function(){n("..")},className:"px-4 py-2 text-sm font-medium text-gray-900 bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Back"}),(0,m.jsx)("button",{type:"submit",disabled:a,className:"px-4 py-2 text-sm font-medium text-gray-900 bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500",children:a?"Submitting...":"Save"})]})})]})]})}},8960:function(e,t,n){n.r(t),n.d(t,{action:function(){return l}});var s=n(4165),i=n(5861),r=(n(2791),n(7689)),a=n(2620),o=n(8127),c=n(4049),d=n(184);function l(e){return m.apply(this,arguments)}function m(){return(m=(0,i.Z)((0,s.Z)().mark((function e(t){var n,i,r,c,d,l,m,u,g;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.request,i=t.params,r=n.method,e.next=4,n.formData();case 4:if(c=e.sent,d=(0,o.getAuthToken)(),l=i.id,m={condition:c.get("condition"),allergies:c.get("allergies"),medications:c.get("medication"),feeding_method:c.get("feeding_method"),immunization_records:c.get("immunization_records"),physician_contact:c.get("physician_contact")},u="https://woodvale-test-2.onrender.com/medical-records/"+l,"PATCH"!==r){e.next=20;break}return e.next=12,fetch(u,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer "+d,"Access-Control-Allow-Origin":"*"},body:JSON.stringify(m)});case 12:if(400!==(g=e.sent).status){e.next=15;break}return e.abrupt("return",g);case 15:if(404!==g.status){e.next=17;break}return e.abrupt("return",g);case 17:if(g.ok){e.next=19;break}throw(0,a.AV)({message:"Failed to update the medical record"},{status:500});case 19:return e.abrupt("return",(0,a.uX)("/login/residents/".concat(l,"/med-recs")));case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.default=function(){var e=(0,r.V4)("med-recs");return(0,d.jsx)("main",{children:(0,d.jsx)("div",{className:"mx-auto max-w-7xl py-6 sm:px-6 lg:px-8",children:(0,d.jsx)(c.default,{record:e,method:"patch",title:"Edit Care Plan"})})})}},5462:function(){}}]);
//# sourceMappingURL=8960.96907cca.chunk.js.map