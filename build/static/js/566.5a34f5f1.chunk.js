"use strict";(self.webpackChunkwoodvale=self.webpackChunkwoodvale||[]).push([[566],{6988:function(e,t,n){n.d(t,{Z:function(){return c}});var a=n(2791),i={backdrop:"Modal_backdrop__5zCZI",modal:"Modal_modal__R70HS","slide-down":"Modal_slide-down__uWUnH"},r=n(4164),s=n(184);function o(e){return(0,s.jsx)("div",{className:i.backdrop})}function l(e){return(0,s.jsx)("div",{className:i.modal,children:(0,s.jsx)("div",{className:i.content,children:e.children})})}var d=document.getElementById("overlays");var c=function(e){return(0,s.jsxs)(a.Fragment,{children:[r.createPortal((0,s.jsx)(o,{}),d),r.createPortal((0,s.jsx)(l,{children:e.children}),d)]})}},566:function(e,t,n){n.r(t);var a=n(4165),i=n(5861),r=n(9439),s=n(2791),o=n(6988),l=n(7689),d=n(8127),c=n(184);t.default=function(){var e=(0,l.V4)("resident-detail").resident,t=(0,l.s0)(),n=(0,l.HJ)(),u=(0,s.useState)(""),m=(0,r.Z)(u,2),f=m[0],h=m[1],p="submitting"===n.state,x=(0,s.useState)(null),b=(0,r.Z)(x,2),v=b[0],g=b[1],w=function(){var n=(0,i.Z)((0,a.Z)().mark((function n(i){var r,s,o;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i.preventDefault(),r=(0,d.getAuthToken)(),(s=new FormData).append("file",v),s.append("description",f),n.prev=5,n.next=8,fetch("https://homes-test.onrender.com/resident/upload/".concat(e.id),{method:"POST",headers:{Authorization:"Bearer "+r},body:s});case 8:400===(o=n.sent).status&&window.alert("Only PDF or Image attachments are allowed!!"),o.ok?window.confirm("File uploaded successfully")&&t(".."):window.alert("failed to upload"),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(5),window.alert("Network error",n.t0);case 16:case"end":return n.stop()}}),n,null,[[5,13]])})));return function(e){return n.apply(this,arguments)}}();return(0,c.jsx)(o.Z,{children:(0,c.jsx)("form",{onSubmit:w,children:(0,c.jsxs)("div",{className:"mb-3",children:[(0,c.jsx)("label",{htmlFor:"formFileMultiple",className:"form-label",children:(0,c.jsx)("h2",{className:"text-base font-semibold leading-7 text-gray-900",children:"Resident attachment"})}),(0,c.jsx)("input",{name:"file",className:"form-control mt-1 text-sm leading-6 text-gray-600 ",type:"file",id:"formFileMultiple",onChange:function(e){g(e.target.files[0])},required:!0}),(0,c.jsx)("input",{type:"text",name:"description",placeholder:"Description",required:!0,value:f,onChange:function(e){h(e.target.value)}}),(0,c.jsx)("br",{}),(0,c.jsxs)("div",{className:"space-x-4",children:[(0,c.jsx)("button",{className:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",type:"submit",disabled:p,children:p?"Submitting":"Submit"}),(0,c.jsx)("button",{onClick:function(){t("..")},type:"button",className:"text-sm font-semibold leading-6 text-gray-900",children:"Cancel"})]})]})})})}}}]);
//# sourceMappingURL=566.5a34f5f1.chunk.js.map