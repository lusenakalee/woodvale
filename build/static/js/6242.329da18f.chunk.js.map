{"version":3,"file":"static/js/6242.329da18f.chunk.js","mappings":"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","sources":["components/UserComps/EditProfile.js","pages/UserPages/EditProfilePage.js","../node_modules/@heroicons/react/24/outline/esm/UserCircleIcon.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  Form,\r\n  json,\r\n  redirect,\r\n  useActionData,\r\n  useNavigate,\r\n  useNavigation,\r\n} from \"react-router-dom\";\r\nimport { getAuthToken } from \"../../util/Auth\";\r\nimport { UserCircleIcon } from \"@heroicons/react/24/outline\";\r\nimport abstractUser from \"../../components/assets/images/abstractUser.png\";\r\n\r\nlet id;\r\nfunction EditProfile({ method, user, title }) {\r\n  const navigate = useNavigate();\r\n  const navigation = useNavigation();\r\n  const [file, setFile] = useState(null);\r\n  const data = useActionData();\r\n  const [imageUrl, setImageUrl] = useState(\"\");\r\n  const imgToken = getAuthToken();\r\n\r\n  //modal\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  const handleOpenModal = () => {\r\n    setIsOpen(true);\r\n  };\r\n\r\n  const handleCloseModal = () => {\r\n    setIsOpen(false);\r\n  };\r\n\r\n  id = user.id;\r\n  const isSubmitting = navigation.state === \"submitting\";\r\n\r\n  function cancelHandler() {\r\n    navigate(\"..\");\r\n  }\r\n\r\n  const handleFileChange = (event) => {\r\n    setFile(event.target.files[0]);\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    handleCloseModal();\r\n    const bearerToken = getAuthToken();\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"file\", file);\r\n\r\n    try {\r\n      const response = await fetch(`/${user.id}/upload`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          Authorization: \"Bearer \" + bearerToken,\r\n        },\r\n        body: formData,\r\n      });\r\n      if (response.status === 400) {\r\n        window.alert(\"Only Image attachment are allowed!!\");\r\n      }\r\n      if (response.ok) {\r\n        window.confirm(\"File uploaded successfully\");\r\n      } else {\r\n        window.alert(\"failed to upload\");\r\n      }\r\n    } catch (error) {\r\n      window.alert(\"Network error\", error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchImage = async () => {\r\n      try {\r\n        const response = await fetch(`/upload/${user.id}`, {\r\n          headers: {\r\n            Authorization: \"Bearer \" + imgToken,\r\n          },\r\n        });\r\n\r\n        if (response.ok) {\r\n          const blob = await response.blob();\r\n          const url = URL.createObjectURL(blob);\r\n          setImageUrl(url);\r\n        } else {\r\n          console.error(\"Error fetching image:\", response.status);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching image:\", error);\r\n      }\r\n    };\r\n\r\n    fetchImage();\r\n  }, []);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <main>\r\n        <div className=\"mx-auto max-w-7xl py-6 sm:px-6 lg:px-8\">\r\n          <div>\r\n            <button\r\n              type=\"button\"\r\n              onClick={handleOpenModal}\r\n              className=\"inline-flex opacity-80 items-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50\"\r\n            >\r\n              <UserCircleIcon\r\n                className=\"-ml-0.5 mr-1.5 h-5 w-5 text-gray-400\"\r\n                aria-hidden=\"true\"\r\n              />\r\n              Upload Picture\r\n            </button>\r\n          </div>\r\n          {isOpen && (\r\n            <div className=\"fixed inset-0 flex items-center justify-center z-50\">\r\n              <div className=\"fixed inset-0 bg-black opacity-50\"></div>\r\n              <div className=\"relative z-10 bg-white rounded-md w-96\">\r\n                <form onSubmit={handleSubmit}>\r\n                  <div className=\"p-6\">\r\n                    <h1 className=\"text-lg font-bold\">Profile Pic Upload</h1>\r\n                    <div className=\"mt-4\">\r\n                      <label\r\n                        htmlFor=\"formFileSm\"\r\n                        className=\"block font-semibold\"\r\n                      >\r\n                        Upload Your Image\r\n                      </label>\r\n                      <input\r\n                        className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm\"\r\n                        id=\"formFileSm\"\r\n                        type=\"file\"\r\n                        name=\"file\"\r\n                        onChange={handleFileChange}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"px-6 py-4 bg-gray-100 flex items-center justify-end gap-x-4\">\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={handleCloseModal}\r\n                      className=\"text-sm font-semibold text-gray-900\"\r\n                    >\r\n                      Close\r\n                    </button>\r\n                    <button\r\n                      type=\"submit\"\r\n                      className=\"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-600\"\r\n                    >\r\n                      Upload\r\n                    </button>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          )}\r\n          <Form method={method}>\r\n            <div className=\"space-y-12\">\r\n              <div className=\"border-b border-gray-900/10 pb-12\">\r\n                <p className=\"mt-1 text-sm leading-6 text-gray-600\">\r\n                  Kindly fill in correct details\r\n                  {data && data.errors && (\r\n                    <ul>\r\n                      {Object.values(data.errors).map((err) => (\r\n                        <li key={err}>{err}</li>\r\n                      ))}\r\n                    </ul>\r\n                  )}\r\n                </p>\r\n                {imageUrl && (\r\n                  <img\r\n                    src={imageUrl}\r\n                    alt={abstractUser}\r\n                    className=\"h-24 rounded-lg\"\r\n                  />\r\n                )}\r\n                <div className=\"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6\">\r\n                  <div className=\"sm:col-span-3\">\r\n                    <label\r\n                      htmlFor=\"first-name\"\r\n                      className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n                    >\r\n                      First name\r\n                    </label>\r\n                    <div className=\"mt-2\">\r\n                      <input\r\n                        type=\"text\"\r\n                        name=\"first_name\"\r\n                        id=\"first-name\"\r\n                        autoComplete=\"given-name\"\r\n                        required\r\n                        defaultValue={user ? user.first_name : \" \"}\r\n                        className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"sm:col-span-3\">\r\n                    <label\r\n                      htmlFor=\"last_name\"\r\n                      className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n                    >\r\n                      Last name\r\n                    </label>\r\n                    <div className=\"mt-2\">\r\n                      <input\r\n                        type=\"text\"\r\n                        name=\"last_name\"\r\n                        id=\"last_name\"\r\n                        autoComplete=\"family-name\"\r\n                        required\r\n                        defaultValue={user ? user.last_name : \" \"}\r\n                        className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"sm:col-span-3\">\r\n                    <label\r\n                      htmlFor=\"username\"\r\n                      className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n                    >\r\n                      Set user name\r\n                    </label>\r\n                    <div className=\"mt-2\">\r\n                      <input\r\n                        type=\"email\"\r\n                        name=\"username\"\r\n                        id=\"username\"\r\n                        required\r\n                        autoComplete=\"family-name\"\r\n                        defaultValue={user ? user.username : \" \"}\r\n                        className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"sm:col-span-3\">\r\n                    <label\r\n                      htmlFor=\"password1\"\r\n                      className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n                    >\r\n                      Set password\r\n                    </label>\r\n                    <div className=\"mt-2\">\r\n                      <input\r\n                        type=\"text\"\r\n                        required\r\n                        name=\"password1\"\r\n                        id=\"password1\"\r\n                        className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"sm:col-span-3\">\r\n                    <label\r\n                      htmlFor=\"password2\"\r\n                      className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n                    >\r\n                      Confirm password\r\n                    </label>\r\n                    <div className=\"mt-2\">\r\n                      <input\r\n                        type=\"text\"\r\n                        name=\"password2\"\r\n                        required\r\n                        id=\"password2\"\r\n                        className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex justify-between sm:col-span-4\">\r\n                <button\r\n                  onClick={cancelHandler}\r\n                  className=\"px-4 py-2 text-sm font-medium text-gray-900 bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                >\r\n                  Back\r\n                </button>\r\n                <button\r\n                  type=\"submit\"\r\n                  disabled={isSubmitting}\r\n                  className=\"px-4 py-2 text-sm font-medium text-gray-900 bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                >\r\n                  {isSubmitting ? \"Submitting...\" : \"Save\"}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </Form>\r\n        </div>\r\n      </main>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default EditProfile;\r\nexport async function action({ request, params }) {\r\n  const data = await request.formData();\r\n  const method = request.method;\r\n  const token = getAuthToken();\r\n  const signupData = {\r\n    username: data.get(\"username\"),\r\n    password1: data.get(\"password1\"),\r\n    password2: data.get(\"password2\"),\r\n    first_name: data.get(\"first_name\"),\r\n    last_name: data.get(\"last_name\"),\r\n  };\r\n  const response = await fetch(\"/user/\" + id, {\r\n    method: method,\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      \"Access-Control-Allow-Origin\": \"*\",\r\n      Authorization: \"Bearer \" + token,\r\n    },\r\n    body: JSON.stringify(signupData),\r\n  });\r\n  if (response.status === 400) {\r\n    return response;\r\n  }\r\n  if (response.status === 409) {\r\n    return response;\r\n  }\r\n\r\n  if (response.status === 417) {\r\n    return response;\r\n  }\r\n  if (!response.ok) {\r\n    throw json({ message: \"Could edit user\" }, { status: 500 });\r\n  }\r\n\r\n  return redirect(\"/login/profile\");\r\n}\r\n","import React from 'react'\r\nimport EditProfile from '../../components/UserComps/EditProfile'\r\nimport { useRouteLoaderData } from 'react-router-dom'\r\n\r\nfunction EditProfilePage() {\r\n    const user = useRouteLoaderData('profile')\r\n  return (\r\n    <EditProfile user={user} method='patch'/>\r\n  )\r\n}\r\n\r\nexport default EditProfilePage","import * as React from \"react\";\nfunction UserCircleIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z\"\n  }));\n}\nconst ForwardRef = React.forwardRef(UserCircleIcon);\nexport default ForwardRef;"],"names":["id","action","_x2","_action","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee3","_ref4","request","data","method","token","signupData","response","wrap","_context3","prev","next","params","formData","sent","getAuthToken","username","get","password1","password2","first_name","last_name","fetch","headers","Authorization","body","JSON","stringify","status","abrupt","ok","json","message","redirect","stop","_ref","user","navigate","title","useNavigate","navigation","useNavigation","_useState","useState","_useState2","_slicedToArray","file","setFile","useActionData","_useState3","_useState4","imageUrl","setImageUrl","imgToken","_useState5","_useState6","isOpen","setIsOpen","handleCloseModal","isSubmitting","state","handleSubmit","_ref2","_callee","event","bearerToken","_context","preventDefault","FormData","append","concat","window","alert","confirm","t0","_x","useEffect","fetchImage","_ref3","_callee2","blob","url","_context2","URL","createObjectURL","console","error","_jsx","React","children","_jsxs","className","type","onClick","UserCircleIcon","onSubmit","htmlFor","name","onChange","target","files","Form","errors","Object","values","map","err","src","alt","abstractUser","autoComplete","required","defaultValue","disabled","useRouteLoaderData","EditProfile","ForwardRef","svgRef","titleId","props","_objectWithoutProperties","_excluded","assign","xmlns","fill","viewBox","strokeWidth","stroke","ref","strokeLinecap","strokeLinejoin","d"],"sourceRoot":""}