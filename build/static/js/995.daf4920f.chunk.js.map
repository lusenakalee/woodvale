{"version":3,"file":"static/js/995.daf4920f.chunk.js","mappings":"iQAyMO,SAAeA,EAAMC,GAAA,OAAAC,EAAAC,MAAC,KAADC,UAAA,CAiC3B,SAAAF,IAAA,OAAAA,GAAAG,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAjCM,SAAAC,EAAAC,GAAA,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAX,EAAAA,EAAAA,KAAAY,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACwB,OADAX,EAAOD,EAAPC,QAASC,EAAMF,EAANE,OAChCC,EAASF,EAAQE,OAAMO,EAAAE,KAAA,EACVX,EAAQY,WAAW,KAAD,EAYsB,GAZrDT,EAAIM,EAAAI,KACJT,GAAQU,EAAAA,EAAAA,gBACRT,EAAKJ,EAAOI,GACZC,EAAe,CACnBS,qBAAsBZ,EAAKa,IAAI,QAC/BC,oBAAqBd,EAAKa,IAAI,YAC9BE,0BAA2Bf,EAAKa,IAAI,cACpCG,iBAAkBhB,EAAKa,IAAI,WAC3BI,kBAAmBjB,EAAKa,IAAI,YAC5BK,aAAclB,EAAKa,IAAI,gBACvBM,YAAajB,GAEL,iDACK,SAAXH,EAAiB,CAAAO,EAAAE,KAAA,gBAAAF,EAAAE,KAAA,GACIY,MAFf,iDAE0B,CAChCrB,OAAQA,EACRsB,QAAS,CACP,eAAgB,mBAChBC,cAAe,UAAYrB,EAC3B,8BAA+B,KAEjCsB,KAAMC,KAAKC,UAAUtB,KACpB,KAAD,GARY,GASU,OATlBC,EAAQE,EAAAI,MASDgB,OAAc,CAAApB,EAAAE,KAAA,gBAAAF,EAAAqB,OAAA,SAClBvB,GAAQ,WAEZA,EAASwB,GAAG,CAADtB,EAAAE,KAAA,eACRqB,EAAAA,EAAAA,IAAK,CAAEC,QAAS,gCAAkC,CAAEJ,OAAQ,MAAO,KAAD,UAAApB,EAAAqB,OAAA,UAEnEI,EAAAA,EAAAA,IAAS,oBAADC,OAAqB9B,EAAE,gBAAa,yBAAAI,EAAA2B,OAAA,GAAAtC,EAAA,MAEtDL,MAAA,KAAAC,UAAA,CAnCD,UAxLA,SAAqB2C,GAA+B,IAA5BC,EAAQD,EAARC,SAAUpC,EAAMmC,EAANnC,OAC1BqC,GADuCF,EAALG,OACvBC,EAAAA,EAAAA,OACXC,GAAaC,EAAAA,EAAAA,MACbxC,GAAOyC,EAAAA,EAAAA,MACPC,EAAoC,eAArBH,EAAWI,MAahC,OAPI3C,GAAQA,EAAK4C,QACfC,OAAOC,OAAO9C,EAAK4C,QAAQG,SAAQ,SAACC,GAClCC,EAAAA,GAAMC,MAAMF,EACd,KAKAG,EAAAA,EAAAA,MAACC,EAAAA,SAAc,CAAAC,SAAA,CACZrD,GAAQA,EAAK4C,SACZU,EAAAA,EAAAA,KAAA,MAAAD,SACGR,OAAOC,OAAO9C,EAAK4C,QAAQW,KAAI,SAACP,GAAG,OAClCM,EAAAA,EAAAA,KAAA,MAAAD,SAAeL,GAANA,EAAe,MAI7BhD,GAAQA,EAAK8B,UAAWwB,EAAAA,EAAAA,KAAA,KAAAD,SAAIrD,EAAK8B,WAClCwB,EAAAA,EAAAA,KAACE,EAAAA,GAAI,CAACzD,OAAQA,EAAOsD,UACnBF,EAAAA,EAAAA,MAAA,OAAKM,UAAU,aAAYJ,SAAA,EACzBF,EAAAA,EAAAA,MAAA,OAAKM,UAAU,oCAAmCJ,SAAA,EAChDC,EAAAA,EAAAA,KAAA,KAAGG,UAAU,uCAAsCJ,SAAC,oCAGpDF,EAAAA,EAAAA,MAAA,OAAKM,UAAU,wDAAuDJ,SAAA,EACpEF,EAAAA,EAAAA,MAAA,OAAKM,UAAU,gBAAeJ,SAAA,EAC5BC,EAAAA,EAAAA,KAAA,SACEI,QAAQ,OACRD,UAAU,oDAAmDJ,SAC9D,0BAGDC,EAAAA,EAAAA,KAAA,OAAKG,UAAU,OAAMJ,UACnBC,EAAAA,EAAAA,KAAA,YACEpD,GAAG,OACHyD,KAAK,OACLC,KAAM,EACNH,UAAU,wMACVI,aAAc1B,EAAWA,EAASvB,qBAAuB,QAG7D0C,EAAAA,EAAAA,KAAA,KAAGG,UAAU,uCAAsCJ,SAAC,8DAKtDF,EAAAA,EAAAA,MAAA,OAAKM,UAAU,gBAAeJ,SAAA,EAC5BC,EAAAA,EAAAA,KAAA,SACEI,QAAQ,WACRD,UAAU,oDAAmDJ,SAC9D,yBAGDC,EAAAA,EAAAA,KAAA,OAAKG,UAAU,OAAMJ,UACnBC,EAAAA,EAAAA,KAAA,YACEpD,GAAG,WACHyD,KAAK,WACLC,KAAM,EACNH,UAAU,wMACVI,aAAc1B,EAAWA,EAASrB,oBAAsB,QAG5DwC,EAAAA,EAAAA,KAAA,KAAGG,UAAU,uCAAsCJ,SAAC,6DAKtDF,EAAAA,EAAAA,MAAA,OAAKM,UAAU,gBAAeJ,SAAA,EAC5BC,EAAAA,EAAAA,KAAA,SACEI,QAAQ,aACRD,UAAU,oDAAmDJ,SAC9D,+BAGDC,EAAAA,EAAAA,KAAA,OAAKG,UAAU,OAAMJ,UACnBC,EAAAA,EAAAA,KAAA,YACEpD,GAAG,aACHyD,KAAK,aACLC,KAAM,EACNH,UAAU,wMACVI,aAAc1B,EAAWA,EAASpB,0BAA4B,QAGlEuC,EAAAA,EAAAA,KAAA,KAAGG,UAAU,uCAAsCJ,SAAC,oDAKtDF,EAAAA,EAAAA,MAAA,OAAKM,UAAU,gBAAeJ,SAAA,EAC5BC,EAAAA,EAAAA,KAAA,SACEI,QAAQ,UACRD,UAAU,oDAAmDJ,SAC9D,sBAGDC,EAAAA,EAAAA,KAAA,OAAKG,UAAU,OAAMJ,UACnBC,EAAAA,EAAAA,KAAA,YACEpD,GAAG,UACHyD,KAAK,UACLC,KAAM,EACNH,UAAU,wMACVI,aAAc1B,EAAWA,EAASnB,iBAAmB,QAGzDsC,EAAAA,EAAAA,KAAA,KAAGG,UAAU,uCAAsCJ,SAAC,uCAKtDF,EAAAA,EAAAA,MAAA,OAAKM,UAAU,gBAAeJ,SAAA,EAC5BC,EAAAA,EAAAA,KAAA,SACEI,QAAQ,WACRD,UAAU,oDAAmDJ,SAC9D,uBAGDC,EAAAA,EAAAA,KAAA,OAAKG,UAAU,OAAMJ,UACnBC,EAAAA,EAAAA,KAAA,YACEpD,GAAG,WACHyD,KAAK,WACLC,KAAM,EACNH,UAAU,wMACVI,aAAc1B,EAAWA,EAASlB,kBAAoB,QAG1DqC,EAAAA,EAAAA,KAAA,KAAGG,UAAU,uCAAsCJ,SAAC,kEAKtDF,EAAAA,EAAAA,MAAA,OAAKM,UAAU,gBAAeJ,SAAA,EAC5BC,EAAAA,EAAAA,KAAA,SACEI,QAAQ,eACRD,UAAU,oDAAmDJ,SAC9D,kBAIDC,EAAAA,EAAAA,KAAA,OAAKG,UAAU,OAAMJ,UACnBC,EAAAA,EAAAA,KAAA,YACEpD,GAAG,eACHyD,KAAK,eACLC,KAAM,EACNH,UAAU,wMACVI,aAAc1B,EAAWA,EAASjB,aAAe,QAGrDoC,EAAAA,EAAAA,KAAA,KAAGG,UAAU,uCAAsCJ,SAAC,2DAOtDF,EAAAA,EAAAA,MAAA,OAAKM,UAAU,qCAAoCJ,SAAA,EACjDC,EAAAA,EAAAA,KAAA,UACEQ,QAhKhB,WACE1B,EAAS,KACX,EA+JgBqB,UAAU,2IAA0IJ,SACrJ,UAGDC,EAAAA,EAAAA,KAAA,UACES,KAAK,SACLC,SAAUtB,EACVe,UAAU,2IAA0IJ,SAEnJX,EAAe,gBAAkB,mBAOpD,C,4DCxLA,UAVA,WACE,OACEY,EAAAA,EAAAA,KAAA,QAAAD,UACEC,EAAAA,EAAAA,KAAA,OAAKG,UAAU,yCAAwCJ,UACrDC,EAAAA,EAAAA,KAACW,EAAAA,QAAY,CAAClE,OAAO,OAAOsC,MAAM,qBAI1C,C","sources":["components/CarePlanComps/CarePlanForm.js","pages/CarePlanPages/NewCarePlanPage.js"],"sourcesContent":["import React from \"react\";\r\nimport { getAuthToken } from \"../../util/Auth\";\r\nimport {\r\n  Form,\r\n  json,\r\n  redirect,\r\n  useActionData,\r\n  useNavigate,\r\n  useNavigation,\r\n} from \"react-router-dom\";\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\n\r\n\r\nfunction CarePlanForm({ carePlan, method, title }) {\r\n  const navigate = useNavigate();\r\n  const navigation = useNavigation();\r\n  const data = useActionData();\r\n  const isSubmitting = navigation.state === \"submitting\";\r\n  function cancelHandler() {\r\n    navigate(\"..\");\r\n  }\r\n\r\n\r\n  if (data && data.errors) {\r\n    Object.values(data.errors).forEach((err) => {\r\n      toast.error(err);\r\n    });\r\n  }\r\n\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {data && data.errors && (\r\n        <ul>\r\n          {Object.values(data.errors).map((err) => (\r\n            <li key={err}>{err}</li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n      {data && data.message && <p>{data.message}</p>}\r\n      <Form method={method}>\r\n        <div className=\"space-y-12\">\r\n          <div className=\"border-b border-gray-900/10 pb-12\">\r\n            <p className=\"mt-1 text-sm leading-6 text-gray-600\">\r\n              Kindly fill in correct details\r\n            </p>\r\n            <div className=\"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6\">\r\n              <div className=\"col-span-full\">\r\n                <label\r\n                  htmlFor=\"diet\"\r\n                  className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n                >\r\n                  Dietary requirements\r\n                </label>\r\n                <div className=\"mt-2\">\r\n                  <textarea\r\n                    id=\"diet\"\r\n                    name=\"diet\"\r\n                    rows={3}\r\n                    className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                    defaultValue={carePlan ? carePlan.dietary_requirements : \"\"}\r\n                  />\r\n                </div>\r\n                <p className=\"mt-3 text-sm leading-6 text-gray-600\">\r\n                  Write a few sentences about the Dietary requirements.\r\n                </p>\r\n              </div>\r\n\r\n              <div className=\"col-span-full\">\r\n                <label\r\n                  htmlFor=\"mobility\"\r\n                  className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n                >\r\n                  Mobility assistance\r\n                </label>\r\n                <div className=\"mt-2\">\r\n                  <textarea\r\n                    id=\"mobility\"\r\n                    name=\"mobility\"\r\n                    rows={3}\r\n                    className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                    defaultValue={carePlan ? carePlan.mobility_assistance : \"\"}\r\n                  />\r\n                </div>\r\n                <p className=\"mt-3 text-sm leading-6 text-gray-600\">\r\n                  Write a few sentences about the resident's mobility.\r\n                </p>\r\n              </div>\r\n\r\n              <div className=\"col-span-full\">\r\n                <label\r\n                  htmlFor=\"medication\"\r\n                  className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n                >\r\n                  Medication administration\r\n                </label>\r\n                <div className=\"mt-2\">\r\n                  <textarea\r\n                    id=\"medication\"\r\n                    name=\"medication\"\r\n                    rows={3}\r\n                    className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                    defaultValue={carePlan ? carePlan.medication_administration : \"\"}\r\n                  />\r\n                </div>\r\n                <p className=\"mt-3 text-sm leading-6 text-gray-600\">\r\n                  Write a few sentences about the medication.\r\n                </p>\r\n              </div>\r\n\r\n              <div className=\"col-span-full\">\r\n                <label\r\n                  htmlFor=\"hygiene\"\r\n                  className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n                >\r\n                  Personal hygiene\r\n                </label>\r\n                <div className=\"mt-2\">\r\n                  <textarea\r\n                    id=\"hygiene\"\r\n                    name=\"hygiene\"\r\n                    rows={3}\r\n                    className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                    defaultValue={carePlan ? carePlan.personal_hygiene : \"\"}\r\n                  />\r\n                </div>\r\n                <p className=\"mt-3 text-sm leading-6 text-gray-600\">\r\n                  Describe the personal hygiene.\r\n                </p>\r\n              </div>\r\n\r\n              <div className=\"col-span-full\">\r\n                <label\r\n                  htmlFor=\"activity\"\r\n                  className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n                >\r\n                  Activity schedule\r\n                </label>\r\n                <div className=\"mt-2\">\r\n                  <textarea\r\n                    id=\"activity\"\r\n                    name=\"activity\"\r\n                    rows={3}\r\n                    className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                    defaultValue={carePlan ? carePlan.activity_schedule : \"\"}\r\n                  />\r\n                </div>\r\n                <p className=\"mt-3 text-sm leading-6 text-gray-600\">\r\n                  Write a few sentences about resident's activity schedule.\r\n                </p>\r\n              </div>\r\n\r\n              <div className=\"col-span-full\">\r\n                <label\r\n                  htmlFor=\"instructions\"\r\n                  className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n                >\r\n                  Instructions\r\n                </label>\r\n\r\n                <div className=\"mt-2\">\r\n                  <textarea\r\n                    id=\"instructions\"\r\n                    name=\"instructions\"\r\n                    rows={3}\r\n                    className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                    defaultValue={carePlan ? carePlan.instructions : \"\"}\r\n                  />\r\n                </div>\r\n                <p className=\"mt-3 text-sm leading-6 text-gray-600\">\r\n                  Write a few sentences about the instructons.\r\n                </p>\r\n              </div>\r\n\r\n            </div>\r\n          </div>\r\n              <div className=\"flex justify-between sm:col-span-4\">\r\n                <button\r\n                  onClick={cancelHandler}\r\n                  className=\"px-4 py-2 text-sm font-medium text-gray-900 bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                >\r\n                  Back\r\n                </button>\r\n                <button\r\n                  type=\"submit\"\r\n                  disabled={isSubmitting}\r\n                  className=\"px-4 py-2 text-sm font-medium text-gray-900 bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                >\r\n                  {isSubmitting ? \"Submitting...\" : \"Save\"}\r\n                </button>\r\n              </div>\r\n        </div>\r\n      </Form>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default CarePlanForm;\r\n\r\nexport async function action({ request, params }) {\r\n  const method = request.method;\r\n  const data = await request.formData();\r\n  const token = getAuthToken();\r\n  const id = params.id;\r\n  const carePlanData = {\r\n    dietary_requirements: data.get(\"diet\"),\r\n    mobility_assistance: data.get(\"mobility\"),\r\n    medication_administration: data.get(\"medication\"),\r\n    personal_hygiene: data.get(\"hygiene\"),\r\n    activity_schedule: data.get(\"activity\"),\r\n    instructions: data.get(\"instructions\"),\r\n    resident_id: id,\r\n  };\r\n  let url = \"https://woodvale-test-2.onrender.com/care-plan\";\r\n  if (method === \"POST\") {\r\n    const response = await fetch(url, {\r\n      method: method,\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + token,\r\n        \"Access-Control-Allow-Origin\": \"*\",\r\n      },\r\n      body: JSON.stringify(carePlanData),\r\n    });\r\n    if (response.status === 400) {\r\n      return response;\r\n    }\r\n    if (!response.ok) {\r\n      throw json({ message: \"Failed to save the care plan\" }, { status: 500 });\r\n    }\r\n    return redirect(`/login/residents/${id}/care-plan`);\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport CarePlanForm from \"../../components/CarePlanComps/CarePlanForm\";\r\n\r\nfunction NewCarePlanPage() {\r\n  return (\r\n    <main>\r\n      <div className=\"mx-auto max-w-7xl py-6 sm:px-6 lg:px-8\">\r\n        <CarePlanForm method=\"post\" title=\"New Care Plan\" />\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default NewCarePlanPage;\r\n"],"names":["action","_x","_action","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_ref2","request","params","method","data","token","id","carePlanData","response","wrap","_context","prev","next","formData","sent","getAuthToken","dietary_requirements","get","mobility_assistance","medication_administration","personal_hygiene","activity_schedule","instructions","resident_id","fetch","headers","Authorization","body","JSON","stringify","status","abrupt","ok","json","message","redirect","concat","stop","_ref","carePlan","navigate","title","useNavigate","navigation","useNavigation","useActionData","isSubmitting","state","errors","Object","values","forEach","err","toast","error","_jsxs","React","children","_jsx","map","Form","className","htmlFor","name","rows","defaultValue","onClick","type","disabled","CarePlanForm"],"sourceRoot":""}