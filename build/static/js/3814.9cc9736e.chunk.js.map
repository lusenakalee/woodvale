{"version":3,"file":"static/js/3814.9cc9736e.chunk.js","mappings":"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","sources":["components/MedicalRecordsComs/MedRecordsForm.js","pages/MedicalRecordsPages/NewMedicalRecordPage.js"],"sourcesContent":["import React from \"react\";\r\nimport { getAuthToken } from \"../../util/Auth\";\r\nimport {\r\n  Form,\r\n  json,\r\n  redirect,\r\n  useActionData,\r\n  useNavigate,\r\n  useNavigation,\r\n} from \"react-router-dom\";\r\n\r\nfunction MedicalRecordForm({ record, method, title }) {\r\n  const navigate = useNavigate();\r\n  const navigation = useNavigation();\r\n  const data = useActionData();\r\n  const isSubmitting = navigation.state === \"submitting\";\r\n  function cancelHandler() {\r\n    navigate(\"..\");\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {data && data.errors && (\r\n        <ul>\r\n          {Object.values(data.errors).map((err) => (\r\n            <li key={err}>{err}</li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n      <Form method={method}>\r\n        <div className=\"col-span-full\">\r\n          <label\r\n            htmlFor=\"condition\"\r\n            className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n          >\r\n            Condition\r\n          </label>\r\n          <div className=\"mt-2\">\r\n            <textarea\r\n              id=\"condition\"\r\n              required\r\n              name=\"condition\"\r\n              rows={3}\r\n              className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n              defaultValue={\"\"}\r\n            />\r\n          </div>\r\n          <p className=\"mt-3 text-sm leading-6 text-gray-600\">\r\n            Write about the resident's condition.\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"col-span-full\">\r\n          <label\r\n            htmlFor=\"allergies\"\r\n            className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n          >\r\n            allergies\r\n          </label>\r\n          <div className=\"mt-2\">\r\n            <textarea\r\n              id=\"allergies\"\r\n              required\r\n              name=\"allergies\"\r\n              rows={3}\r\n              className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n              defaultValue={\"\"}\r\n            />\r\n          </div>\r\n          <p className=\"mt-3 text-sm leading-6 text-gray-600\">\r\n            Write about the resident's allergies.\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"col-span-full\">\r\n          <label\r\n            htmlFor=\"medication\"\r\n            className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n          >\r\n            medication\r\n          </label>\r\n          <div className=\"mt-2\">\r\n            <textarea\r\n              id=\"medication\"\r\n              required\r\n              name=\"medication\"\r\n              rows={3}\r\n              className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n              defaultValue={\"\"}\r\n            />\r\n          </div>\r\n          <p className=\"mt-3 text-sm leading-6 text-gray-600\">\r\n            Write about the resident's medication.\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"sm:col-span-3\">\r\n          <label\r\n            htmlFor=\"feeding_method\"\r\n            className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n          >\r\n            Feeding method\r\n          </label>\r\n          <div className=\"mt-2\">\r\n            <select\r\n              id=\"feeding_method\"\r\n              name=\"feeding_method\"\r\n              className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:max-w-xs sm:text-sm sm:leading-6\"\r\n            >\r\n              <option>Dependent</option>\r\n              <option>Independent</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"col-span-full\">\r\n          <label\r\n            htmlFor=\"immunization_records\"\r\n            className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n          >\r\n            Immunization records\r\n          </label>\r\n          <div className=\"mt-2\">\r\n            <textarea\r\n              id=\"immunization_records\"\r\n              required\r\n              name=\"immunization_records\"\r\n              rows={3}\r\n              className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n              defaultValue={\"\"}\r\n            />\r\n          </div>\r\n          <p className=\"mt-3 text-sm leading-6 text-gray-600\">\r\n            Write about the resident's medication.\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"sm:col-span-4 pt-10\">\r\n          <label className=\"block text-sm font-medium leading-6 text-gray-900\">\r\n            physician contact\r\n          </label>\r\n          <div className=\"mt-2\">\r\n            <input\r\n              id=\"physician_contact\"\r\n              name=\"physician_contact\"\r\n              autoComplete=\"physician_contact\"\r\n              className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\" px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\r\n          <div className=\"flex justify-between sm:col-span-4\">\r\n            <button\r\n              onClick={cancelHandler}\r\n              className=\"px-4 py-2 text-sm font-medium text-gray-900 bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n            >\r\n              Back\r\n            </button>\r\n            <button\r\n              type=\"submit\"\r\n              disabled={isSubmitting}\r\n              className=\"px-4 py-2 text-sm font-medium text-gray-900 bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n            >\r\n              {isSubmitting ? \"Submitting...\" : \"Save\"}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </Form>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default MedicalRecordForm;\r\n\r\nexport async function action({ request, params }) {\r\n  const method = request.method;\r\n  const data = await request.formData();\r\n  const token = getAuthToken();\r\n  const id = params.id;\r\n  const recordData = {\r\n    condition: data.get(\"condition\"),\r\n    allergies: data.get(\"allergies\"),\r\n    medications: data.get(\"medication\"),\r\n    feeding_method: data.get(\"feeding_method\"),\r\n    immunization_records: data.get(\"immunization_records\"),\r\n    physician_contact: data.get(\"physician_contact\"),\r\n    resident_id: id,\r\n  };\r\n  let url = \"https://homes-test.onrender.com/medical-records\";\r\n  if (method === \"POST\") {\r\n    const response = await fetch(url, {\r\n      method: method,\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + token,\r\n        \"Access-Control-Allow-Origin\": \"*\",\r\n      },\r\n      body: JSON.stringify(recordData),\r\n    });\r\n    if (response.status === 400) {\r\n      return response;\r\n    }\r\n    if (!response.ok) {\r\n      throw json(\r\n        { message: \"Failed to save the medical record.\" },\r\n        { status: 500 }\r\n      );\r\n    }\r\n    return redirect(`/login/residents/${id}/med-recs`);\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport MedicalRecordForm from \"../../components/MedicalRecordsComs/MedRecordsForm\";\r\n\r\n\r\nfunction NewMedicalRecordPage() {\r\n  return (\r\n    <main>\r\n      <div className=\"mx-auto max-w-7xl py-6 sm:px-6 lg:px-8\">\r\n        <MedicalRecordForm method=\"post\" title=\"New Care Plan\" />\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default NewMedicalRecordPage;"],"names":["action","_x","_action","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_ref2","request","params","method","data","token","id","recordData","response","wrap","_context","prev","next","formData","sent","getAuthToken","condition","get","allergies","medications","feeding_method","immunization_records","physician_contact","resident_id","fetch","headers","Authorization","body","JSON","stringify","status","abrupt","ok","json","message","redirect","concat","stop","_ref","record","navigate","title","useNavigate","navigation","useNavigation","useActionData","isSubmitting","state","_jsxs","React","children","errors","_jsx","Object","values","map","err","Form","className","htmlFor","required","name","rows","defaultValue","autoComplete","onClick","type","disabled","MedicalRecordForm"],"sourceRoot":""}