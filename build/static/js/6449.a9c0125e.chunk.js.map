{"version":3,"file":"static/js/6449.a9c0125e.chunk.js","mappings":"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","sources":["webpack://woodvale/./src/components/UIComps/Modal.module.css?4635","components/UIComps/ModalComp.js","pages/LeavePages/LeaveRejectPage.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"backdrop\":\"Modal_backdrop__5zCZI\",\"modal\":\"Modal_modal__R70HS\",\"slide-down\":\"Modal_slide-down__uWUnH\"};","import React from \"react\";\nimport classes from \"./Modal.module.css\";\nimport ReactDOM from \"react-dom\";\n\nfunction Backdrop(props) {\n  return <div className={classes.backdrop}></div>;\n}\n\nfunction ModalOverlays(props) {\n  return (\n    <div className={classes.modal}>\n      <div className={classes.content}>{props.children}</div>\n    </div>\n  );\n}\n\nconst portalElement = document.getElementById(\"overlays\");\n\nfunction Modal(props) {\n  return (\n    <React.Fragment>\n      {ReactDOM.createPortal(<Backdrop />, portalElement)}\n      {ReactDOM.createPortal(\n        <ModalOverlays>{props.children}</ModalOverlays>,\n        portalElement\n      )}\n    </React.Fragment>\n  );\n}\n\nexport default Modal;\n","import React from \"react\";\nimport Modal from \"../../components/UIComps/ModalComp\";\nimport {\n  Form,\n  json,\n  redirect,\n  useActionData,\n  useNavigate,\n  useNavigation,\n} from \"react-router-dom\";\nimport { getAuthToken } from \"../../util/Auth\";\n\nfunction LeaveRejectPage() {\n  const navigate = useNavigate();\n  const data = useActionData();\n  function cancelHandler() {\n    navigate(\"..\");\n  }\n  const navigation = useNavigation();\n  const isSubmitting = navigation.state === \"submitting\";\n  return (\n    <React.Fragment>\n      <Modal>\n        {data && data.errors && (\n          <ul>\n            {Object.values(data.errors).map((err) => (\n              <li key={err}>{err}</li>\n            ))}\n          </ul>\n        )}\n        {data && data.message && <p>{data.message}</p>}\n        <Form method=\"post\">\n          <p>Are you sure you want to Reject this leave</p>\n          <div className=\"mt-6 flex items-center justify-end gap-x-6\">\n            <button\n              type=\"button\"\n              onClick={cancelHandler}\n              className=\"text-sm font-semibold leading-6 text-gray-900\"\n            >\n              No\n            </button>\n            <button\n              type=\"submit\"\n              disabled={isSubmitting}\n              className=\"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600\"\n            >\n               {isSubmitting ? \"Rejecting\" : \"Yes\"}\n            </button>\n          </div>\n         \n        \n        </Form>\n      </Modal>\n    </React.Fragment>\n  );\n}\n\nexport default LeaveRejectPage;\n\nexport async function leaveRejectAction({ request, params }) {\n  let url = \"https://woodvale-test-2.onrender.com/leave-records/disapprove/\";\n  const token = getAuthToken();\n  const data = await request.formData();\n  const id = params.leaveId;\n  const residentId = params.id;\n\n  const rejectData = {\n    reject_comment: data.get(\"reject\"),\n  };\n  const response = await fetch(url + id, {\n    method: \"post\",\n    headers: {\n      Authorization: \"Bearer \" + token,\n      \"Access-Control-Allow-Origin\": \"*\",\n    },\n    body: JSON.stringify(rejectData),\n  });\n  if (response.status === 400) {\n    return response;\n  }\n  if (response.status === 404) {\n    return response;\n  }\n  if (!response.ok) {\n    throw json({ message: \"Something went wrong!!\" }, { status: 500 });\n  }\n  return redirect(`/login/residents/${residentId}/leaves/${id}`);\n}\n"],"names":["Backdrop","props","_jsx","className","classes","backdrop","ModalOverlays","modal","children","content","portalElement","document","getElementById","_jsxs","React","ReactDOM","leaveRejectAction","_x","_leaveRejectAction","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_ref","request","params","url","token","data","id","residentId","rejectData","response","wrap","_context","prev","next","getAuthToken","formData","sent","leaveId","reject_comment","get","fetch","method","headers","Authorization","body","JSON","stringify","status","abrupt","ok","json","message","redirect","concat","stop","navigate","useNavigate","useActionData","isSubmitting","useNavigation","state","Modal","errors","Object","values","map","err","Form","type","onClick","disabled"],"sourceRoot":""}