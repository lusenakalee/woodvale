"use strict";(self.webpackChunkwoodvale=self.webpackChunkwoodvale||[]).push([[9920],{9920:function(e,r,t){t.r(r),t.d(r,{default:function(){return m},loader:function(){return f}});var n=t(4165),s=t(5861),i=t(2791),a=t(9439),c=t(1087),l=t(6418),o=t(7929),d=t(184);var x=function(e){var r=e.incidents;(0,c.qd)();var t=(0,i.useState)(1),n=(0,a.Z)(t,2),s=n[0],x=n[1],h=r.length,u=Math.ceil(h/10),j=10*(s-1),m=j+10,f=r.slice(j,m);return(0,d.jsxs)(i.Fragment,{children:[(0,d.jsx)("div",{children:(0,d.jsxs)(o.kC,{className:"space-x-0.5",justifyContent:"start",alignItems:"center",children:[(0,d.jsx)(o.Dx,{children:"Incidents"}),(0,d.jsx)(o.JO,{icon:l.Z,variant:"simple",tooltip:"Shows incidents"})]})}),(0,d.jsxs)(o.iA,{className:"mt-6",children:[(0,d.jsx)(o.ss,{children:(0,d.jsxs)(o.SC,{children:[(0,d.jsx)(o.xs,{children:"Resident Name"}),(0,d.jsx)(o.xs,{children:"Incident Date"}),(0,d.jsx)(o.xs,{className:"text-right",children:"Person Reporting"}),(0,d.jsx)(o.xs,{className:"text-right",children:"Person notified"}),(0,d.jsx)(o.xs,{className:"text-right",children:"location"})]})}),(0,d.jsx)(o.RM,{children:f.map((function(e){return(0,d.jsxs)(o.SC,{children:[(0,d.jsx)(c.rU,{to:"/login/residents/".concat(e.resident_id,"/incident/").concat(e.id),children:(0,d.jsxs)(o.pj,{children:[e.resident.first_name," ",e.resident.last_name]})}),(0,d.jsx)(o.pj,{className:"text-right",children:e.incident_date}),(0,d.jsx)(o.pj,{className:"text-right",children:e.person_reporting}),(0,d.jsx)(o.pj,{className:"text-right",children:e.person_notified}),(0,d.jsx)(o.pj,{className:"text-right",children:e.location})]},e.id)}))})]}),(0,d.jsxs)("ol",{className:"flex justify-center gap-1 text-xs font-medium mt-4",children:[s>1&&(0,d.jsx)("li",{children:(0,d.jsxs)("a",{href:"#",onClick:function(){return x((function(e){return e-1}))},className:"inline-flex h-8 w-8 items-center justify-center rounded border border-gray-100 bg-white text-gray-900 rtl:rotate-180",children:[(0,d.jsx)("span",{className:"sr-only",children:"Prev Page"}),(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:(0,d.jsx)("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]})}),Array.from({length:u},(function(e,r){return r+1})).map((function(e){return(0,d.jsx)("li",{children:(0,d.jsx)("a",{href:"#",onClick:function(){return x(e)},className:"".concat(e===s?"block h-8 w-8 rounded border-blue-600 bg-indigo-600 text-center leading-8 text-white":"block h-8 w-8 rounded border border-gray-100 bg-white text-center leading-8 text-gray-900"),children:e})},e)})),s<u&&(0,d.jsx)("li",{children:(0,d.jsxs)("a",{href:"#",onClick:function(){return x((function(e){return e+1}))},className:"inline-flex h-8 w-8 items-center justify-center rounded border border-gray-100 bg-white text-gray-900 rtl:rotate-180",children:[(0,d.jsx)("span",{className:"sr-only",children:"Next Page"}),(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:(0,d.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})})]})]})},h=t(7689),u=t(2620),j=t(8127);var m=function(){var e=(0,h.f_)();return(0,d.jsx)("main",{children:(0,d.jsx)("div",{className:"mx-auto max-w-7xl py-6 sm:px-6 lg:px-8",children:(0,d.jsx)(x,{incidents:e})})})};function f(e){return p.apply(this,arguments)}function p(){return(p=(0,s.Z)((0,n.Z)().mark((function e(r){var t,s,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.request,r.params,"https://homes-test.onrender.com/incident-reports",t=(0,j.getAuthToken)(),e.next=5,fetch("https://homes-test.onrender.com/incident-reports",{method:"get",headers:{Authorization:"Bearer "+t,"Access-Control-Allow-Origin":"*"}});case 5:if(404!==(s=e.sent).status){e.next=8;break}return e.abrupt("return",s);case 8:if(400!==s.status){e.next=10;break}return e.abrupt("return",s);case 10:if(s.ok){e.next=12;break}throw(0,u.AV)({message:"Server error"},{status:500});case 12:return e.next=14,s.json();case 14:return i=e.sent,e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=9920.621065ae.chunk.js.map