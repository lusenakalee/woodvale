"use strict";(self.webpackChunkwoodvale=self.webpackChunkwoodvale||[]).push([[8047],{8047:function(e,t,n){n.r(t),n.d(t,{default:function(){return p},loader:function(){return w}});var r=n(4165),s=n(5861),a=n(2791),l=n(9439),i=n(1087),c=n(6418),d=n(9479),o=n(7929),x=n(1025),h=n.n(x),u=n(184);function m(e){var t=e.residentsList,n=(0,a.useState)([]),r=(0,l.Z)(n,2),s=r[0],x=r[1],m=(0,a.useState)(1),f=(0,l.Z)(m,2),j=f[0],g=f[1],p=t.filter((function(e){return s.includes(e.first_name)||0===s.length})),w=p.length,v=Math.ceil(w/10),b=10*(j-1),N=b+10,y=p.slice(b,N);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{children:(0,u.jsxs)(o.kC,{className:"space-x-0.5",justifyContent:"start",alignItems:"center",children:[(0,u.jsx)(o.Dx,{children:"Residents"}),(0,u.jsx)(o.JO,{icon:c.Z,variant:"simple",tooltip:"Shows general employee information"})]})}),(0,u.jsxs)("div",{className:"flex space-x-2",children:[(0,u.jsx)(o.NU,{className:"max-w-full sm:max-w-xs",onValueChange:x,placeholder:"Select resident...",children:t.map((function(e){return(0,u.jsx)(o.wn,{value:e.first_name,label:"".concat(e.first_name," ").concat(e.last_name)},e.first_name)}))}),(0,u.jsxs)("button",{type:"button",onClick:function(){var e=h().unparse(p),t=new Blob([e],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(t),r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download","residents.csv"),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r)},className:"inline-flex items-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:[(0,u.jsx)(d.Z,{className:"-ml-0.5 mr-1.5 h-5 w-5 text-gray-400","aria-hidden":"true"}),"Export"]})]}),(0,u.jsxs)(o.iA,{className:"mt-6 table w-full",children:[(0,u.jsx)(o.ss,{children:(0,u.jsxs)(o.SC,{children:[(0,u.jsx)(o.xs,{className:"",children:"First Name"}),(0,u.jsx)(o.xs,{className:" text-left",children:"Last Name"}),(0,u.jsx)(o.xs,{className:" text-left",children:"Age"}),(0,u.jsx)(o.xs,{className:" text-left",children:"Date Registered"}),(0,u.jsx)(o.xs,{className:" text-left",children:"Gender"})]})}),(0,u.jsx)(o.RM,{children:y.map((function(e){return(0,u.jsxs)(o.SC,{className:"hover:bg-white",children:[(0,u.jsx)(o.pj,{className:" hover:text-indigo-600 hover:underline",children:(0,u.jsx)(i.rU,{to:"./".concat(e.id),children:e.first_name})}),(0,u.jsx)(o.pj,{className:" text-left",children:e.last_name}),(0,u.jsx)(o.pj,{className:" text-left",children:e.age}),(0,u.jsx)(o.pj,{className:" text-left",children:e.date_registered}),(0,u.jsx)(o.pj,{className:" text-left",children:e.gender})]},e.id)}))})]}),(0,u.jsxs)("ol",{className:"flex justify-center gap-1 text-xs font-medium mt-4",children:[j>1&&(0,u.jsx)("li",{children:(0,u.jsxs)("a",{href:"#",onClick:function(){return g((function(e){return e-1}))},className:"inline-flex h-8 w-8 items-center justify-center rounded border border-gray-100 bg-white text-gray-900 rtl:rotate-180",children:[(0,u.jsx)("span",{className:"sr-only",children:"Prev Page"}),(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:(0,u.jsx)("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]})}),Array.from({length:v},(function(e,t){return t+1})).map((function(e){return(0,u.jsx)("li",{children:(0,u.jsx)("a",{href:"#",onClick:function(){return g(e)},className:"".concat(e===j?"block h-8 w-8 rounded border-blue-600 bg-indigo-600 text-center leading-8 text-white":"block h-8 w-8 rounded border border-gray-100 bg-white text-center leading-8 text-gray-900"),children:e})},e)})),j<v&&(0,u.jsx)("li",{children:(0,u.jsxs)("a",{href:"#",onClick:function(){return g((function(e){return e+1}))},className:"inline-flex h-8 w-8 items-center justify-center rounded border border-gray-100 bg-white text-gray-900 rtl:rotate-180",children:[(0,u.jsx)("span",{className:"sr-only",children:"Next Page"}),(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:(0,u.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})})]})]})}var f=n(8127),j=n(7689),g=n(2620);var p=function(){var e=(0,j.V4)("all-residents");return(0,u.jsx)(a.Fragment,{children:(0,u.jsx)("main",{children:(0,u.jsx)("div",{className:"mx-auto max-w-7xl py-6 sm:px-6 lg:px-8",children:(0,u.jsx)(m,{residentsList:e})})})})};function w(){return v.apply(this,arguments)}function v(){return(v=(0,s.Z)((0,r.Z)().mark((function e(){var t,n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,f.getAuthToken)(),e.next=3,fetch("https://woodvale-test-2.onrender.com/residents",{method:"GET",headers:{Authorization:"Bearer "+t,"Access-Control-Allow-Origin":"*"}});case 3:if((n=e.sent).ok){e.next=8;break}throw(0,g.AV)({message:"Cant get residents"},{status:500});case 8:return e.next=10,n.json();case 10:return s=e.sent,e.abrupt("return",s);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=8047.1c9048d8.chunk.js.map