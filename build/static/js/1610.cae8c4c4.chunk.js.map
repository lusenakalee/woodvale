{"version":3,"file":"static/js/1610.cae8c4c4.chunk.js","mappings":"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","sources":["components/LeaveComps/LeaveDetail.js","pages/LeavePages/LeaveDetailPage.js"],"sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useSubmit } from \"react-router-dom\";\r\n\r\nfunction LeaveDetail({ leave }) {\r\n  const submit = useSubmit();\r\n  function startDeleteHandler() {\r\n    const proceed = window.confirm(\"Are you sure?\");\r\n\r\n    if (proceed) {\r\n      submit(null, { method: \"delete\" });\r\n    }\r\n  }\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"px-4 py-3 sm:grid sm:grid-cols-3 hover:bg-white sm:gap-4 sm:px-0\">\r\n        <dt className=\"text-sm font-medium leading-6 text-gray-900\">Status</dt>\r\n        <dd className=\"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0\">\r\n          {leave.approved === true ? \"Approved\" : \"Not Approved\"}\r\n        </dd>\r\n      </div>\r\n      <div className=\"px-4 py-3 sm:grid sm:grid-cols-3 hover:bg-white sm:gap-4 sm:px-0\">\r\n        <dt className=\"text-sm font-medium leading-6 text-gray-900\">\r\n          Contact Person\r\n        </dt>\r\n        <dd className=\"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0\">\r\n          {leave.contact}\r\n        </dd>\r\n      </div>\r\n\r\n      <div className=\"px-4 py-3 sm:grid sm:grid-cols-3 hover:bg-white sm:gap-4 sm:px-0\">\r\n        <dt className=\"text-sm font-medium leading-6 text-gray-900\">\r\n          Person responsible\r\n        </dt>\r\n        <dd className=\"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0\">\r\n          {leave.person_responsible}\r\n        </dd>\r\n      </div>\r\n      <div className=\"px-4 py-3 sm:grid sm:grid-cols-3 hover:bg-white sm:gap-4 sm:px-0\">\r\n        <dt className=\"text-sm font-medium leading-6 text-gray-900\">\r\n          Leave Date\r\n        </dt>\r\n        <dd className=\"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0\">\r\n          {leave.leave_date}\r\n        </dd>\r\n      </div>\r\n      <div className=\"px-4 py-3 sm:grid sm:grid-cols-3 hover:bg-white sm:gap-4 sm:px-0\">\r\n        <dt className=\"text-sm font-medium leading-6 text-gray-900\">\r\n          Return Date\r\n        </dt>\r\n        <dd className=\"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0\">\r\n          {leave.return_date}\r\n        </dd>\r\n      </div>\r\n      <div className=\"px-4 py-3 sm:grid sm:grid-cols-3 hover:bg-white sm:gap-4 sm:px-0\">\r\n        <dt className=\"text-sm font-medium leading-6 text-gray-900\">\r\n          Has the resident returned?\r\n        </dt>\r\n        <dd className=\"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0\">\r\n          {leave.return_date === true ? \"Returned\" : \"Not Yet\"}\r\n        </dd>\r\n      </div>\r\n\r\n      <div className=\" px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\r\n        <dt className=\"text-sm font-medium text-gray-500\">\r\n          <button\r\n            onClick={startDeleteHandler}\r\n            className=\"px-4 py-2 text-sm font-medium text-gray-900 bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n          >\r\n            Delete\r\n          </button>\r\n        </dt>\r\n        <dd className=\"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0\">\r\n          <Link to=\"edit\">\r\n            <button\r\n              type=\"submit\"\r\n              className=\"px-4 py-2 text-sm font-medium text-gray-900 bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n            >\r\n              Edit\r\n            </button>\r\n          </Link>\r\n        </dd>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default LeaveDetail;\r\n","import React from \"react\";\r\nimport { json, redirect, useRouteLoaderData } from \"react-router-dom\";\r\nimport LeaveDetail from \"../../components/LeaveComps/LeaveDetail\";\r\nimport { getAuthToken } from \"../../util/Auth\";\r\n\r\nfunction LeaveDetailPage() {\r\n  const leave = useRouteLoaderData(\"leave\");\r\n  return (\r\n    <React.Fragment>\r\n      <LeaveDetail leave={leave}/>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default LeaveDetailPage;\r\nexport async function loader({ request, params }) {\r\n  let url = \"/leave-records/leave/\";\r\n  const token = getAuthToken();\r\n  const id = params.leaveId;\r\n  const response = await fetch(url + id, {\r\n    method: \"get\",\r\n    headers: {\r\n      Authorization: \"Bearer \" + token,\r\n      \"Access-Control-Allow-Origin\": \"*\",\r\n    },\r\n  });\r\n  if (response.status === 400) {\r\n    return response;\r\n  }\r\n  if (response.status === 404) {\r\n    return response;\r\n  }\r\n  if (!response.ok) {\r\n    throw json({ message: \"Wrong Url\" }, { status: 500 });\r\n  }\r\n\r\n  const resData = await response.json();\r\n  console.log(resData);\r\n  return resData;\r\n}\r\n\r\nexport async function action({ request, params }) {\r\n  const token = getAuthToken();\r\n\r\n  const id = params.leaveId;\r\n  const Id = params.id;\r\n  const response = await fetch(\"/leave-records/\" + id, {\r\n    method: request.method,\r\n    headers: {\r\n      Authorization: \"Bearer \" + token,\r\n    },\r\n  });\r\n  if (response.status === 404) {\r\n    return response;\r\n  }\r\n  if (response.status === 400) {\r\n    return response;\r\n  }\r\n  if (!response.ok) {\r\n    throw json(\r\n      { message: \"Could not delete incident.\" },\r\n      {\r\n        status: 500,\r\n      }\r\n    );\r\n  }\r\n  return redirect(`/login/residents/${Id}/leaves`);\r\n}\r\n"],"names":["_ref","leave","submit","useSubmit","_jsxs","React","children","className","_jsx","approved","contact","person_responsible","leave_date","return_date","onClick","window","confirm","method","Link","to","type","useRouteLoaderData","LeaveDetail","loader","_x","_loader","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","params","token","id","response","resData","wrap","_context","prev","next","request","getAuthToken","leaveId","fetch","headers","Authorization","sent","status","abrupt","ok","json","message","console","log","stop","action","_x2","_action","_callee2","_ref2","Id","_context2","redirect","concat"],"sourceRoot":""}