"use strict";(self.webpackChunkwoodvale=self.webpackChunkwoodvale||[]).push([[4862],{4862:function(e,s,t){t.r(s),t.d(s,{default:function(){return j},loader:function(){return p}});var n=t(4165),r=t(5861),a=t(2791),l=t(7689),i=t(2620),c=t(9439),u=t(1087),x=t(6418),m=t(9479),h=t(7929),o=t(184);var d=function(e){var s=e.users,t=(0,a.useState)([]),n=(0,c.Z)(t,2),r=n[0],l=n[1],i=s.filter((function(e){return r.includes(e.first_name)||0===r.length}));return(0,o.jsxs)(a.Fragment,{children:[(0,o.jsx)("div",{children:(0,o.jsxs)(h.kC,{className:"space-x-0.5",justifyContent:"start",alignItems:"center",children:[(0,o.jsx)(h.Dx,{children:"Staff"}),(0,o.jsx)(h.JO,{icon:x.Z,variant:"simple",tooltip:"Shows general staff information"}),(0,o.jsx)(h.Dx,{})]})}),(0,o.jsxs)("div",{className:"flex space-x-2",children:[(0,o.jsx)(h.NU,{className:"max-w-full sm:max-w-xs",onValueChange:l,placeholder:"Search by name...",children:s.map((function(e){return(0,o.jsx)(h.wn,{value:e.first_name,children:e.first_name},e.first_name)}))}),(0,o.jsxs)(h.Ph,{className:"max-w-full sm:max-w-xs",defaultValue:"all",children:[(0,o.jsx)(h.Ql,{value:"all",children:"All"}),(0,o.jsx)(h.Ql,{value:"first_name",children:"First Name"}),(0,o.jsx)(h.Ql,{value:"last_name",children:"Last Name"}),(0,o.jsx)(h.Ql,{value:"username",children:"Username"})]}),(0,o.jsxs)("button",{type:"button",className:"inline-flex items-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:[(0,o.jsx)(m.Z,{className:"-ml-0.5 mr-1.5 h-5 w-5 text-gray-400","aria-hidden":"true"}),"Export"]})]}),(0,o.jsxs)(h.iA,{className:"mt-6",children:[(0,o.jsx)(h.ss,{children:(0,o.jsxs)(h.SC,{children:[(0,o.jsx)(h.xs,{children:"First Name"}),(0,o.jsx)(h.xs,{className:"text-left",children:"Last Name"}),(0,o.jsx)(h.xs,{className:"text-left",children:"Username"}),(0,o.jsx)(h.xs,{className:"text-left",children:"User Type"})]})}),(0,o.jsx)(h.RM,{children:i.map((function(e){return(0,o.jsxs)(h.SC,{className:"hover:bg-white",children:[(0,o.jsx)(h.pj,{className:"w-auto hover:text-indigo-600 hover:underline",children:(0,o.jsx)(u.rU,{to:"./".concat(e.id),children:e.first_name})}),(0,o.jsx)(h.pj,{className:"text-left",children:e.last_name}),(0,o.jsx)(h.pj,{className:"text-left",children:e.username}),(0,o.jsx)(h.pj,{className:"text-left",children:!0===e.is_admin?"Admin":"User"})]},e.id)}))})]})]})},f=t(8127);var j=function(){var e=(0,l.V4)("users");return(0,o.jsx)(a.Fragment,{children:(0,o.jsx)(d,{users:e})})};function p(){return g.apply(this,arguments)}function g(){return(g=(0,r.Z)((0,n.Z)().mark((function e(){var s,t,r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=(0,f.getAuthToken)(),e.next=3,fetch("https://homes-test.onrender.com/user",{method:"GET",headers:{Authorization:"Bearer "+s,"Access-Control-Allow-Origin":"*"}});case 3:if(400!==(t=e.sent).status){e.next=6;break}throw(0,i.AV)({message:"Only the admin can view users"},{status:400});case 6:if(t.ok){e.next=10;break}throw(0,i.AV)({message:"Cant get users"},{status:500});case 10:return e.next=12,t.json();case 12:return r=e.sent,e.abrupt("return",r);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=4862.47aa9e8c.chunk.js.map