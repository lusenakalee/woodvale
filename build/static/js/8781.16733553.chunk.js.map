{"version":3,"file":"static/js/8781.16733553.chunk.js","mappings":"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","sources":["components/LeaveComps/ViewLeaves.js","pages/LeavePages/RejectedLeavesPage.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport {\r\n  CheckCircleIcon,\r\n  InformationCircleIcon,\r\n  PrinterIcon,\r\n  XCircleIcon,\r\n} from \"@heroicons/react/24/outline\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  Icon,\r\n  Table,\r\n  TableRow,\r\n  TableCell,\r\n  TableHead,\r\n  TableHeaderCell,\r\n  TableBody,\r\n  Title,\r\n  Flex,\r\n} from \"@tremor/react\";\r\n\r\nfunction ViewLeaves({ leaves, title }) {\r\n\r\n\r\n\r\n      // Calculate pagination\r\n      const [currentPage, setCurrentPage] = useState(1); // Current page number\r\n\r\n      const LEAVES_PER_PAGE = 10; // Set the number of residents to display per page\r\n      const totalLeaves = leaves.length;\r\n      const totalPages = Math.ceil(totalLeaves/ LEAVES_PER_PAGE);\r\n    \r\n      // Get the slice of residents to display based on the current page\r\n      const startIndex = (currentPage - 1) * LEAVES_PER_PAGE;\r\n      const endIndex = startIndex + LEAVES_PER_PAGE;\r\n      const leavesToShow = leaves.slice(startIndex, endIndex);\r\n\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div>\r\n        <Flex\r\n          className=\"space-x-0.5\"\r\n          justifyContent=\"start\"\r\n          alignItems=\"center\"\r\n        >\r\n          <Title>{title}</Title>\r\n          <Icon\r\n            icon={InformationCircleIcon}\r\n            variant=\"simple\"\r\n            tooltip=\"Shows applied leaves\"\r\n          />\r\n        </Flex>\r\n      </div>\r\n\r\n      <Table className=\"mt-6\">\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableHeaderCell>Resident Name</TableHeaderCell>\r\n            <TableHeaderCell>Leave Date</TableHeaderCell>\r\n            <TableHeaderCell>Return Date</TableHeaderCell>\r\n            <TableHeaderCell className=\"text-right\">\r\n              Duration(Days)\r\n            </TableHeaderCell>\r\n            <TableHeaderCell className=\"text-right\">\r\n              Approval Status\r\n            </TableHeaderCell>\r\n            <TableHeaderCell className=\"text-right\">\r\n              Person responsible\r\n            </TableHeaderCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {leavesToShow.map((item) => (\r\n            <TableRow key={item.id}>\r\n              <Link to={`/login/residents/${item.resident_id}/leaves/${item.id}`}>\r\n                <TableCell>\r\n                  {item.resident.first_name} {item.resident.last_name}\r\n                </TableCell>\r\n              </Link>\r\n              <TableCell>{item.leave_date}</TableCell>\r\n              <TableCell>{item.return_date}</TableCell>\r\n              <TableCell className=\"text-right\">{item.duration}</TableCell>\r\n              <TableCell className=\"text-right\">\r\n                {item.approval_status}\r\n              </TableCell>\r\n              <TableCell className=\"text-right\">\r\n                {item.person_responsible}\r\n              </TableCell>\r\n            </TableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n\r\n        {/* Pagination */}\r\n        <ol className=\"flex justify-center gap-1 text-xs font-medium mt-4\">\r\n        {currentPage > 1 && (\r\n          <li>\r\n            <a\r\n              href=\"#\"\r\n              onClick={() => setCurrentPage((prev) => prev - 1)}\r\n              className=\"inline-flex h-8 w-8 items-center justify-center rounded border border-gray-100 bg-white text-gray-900 rtl:rotate-180\"\r\n            >\r\n              <span className=\"sr-only\">Prev Page</span>\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                className=\"h-3 w-3\"\r\n                viewBox=\"0 0 20 20\"\r\n                fill=\"currentColor\"\r\n              >\r\n                <path\r\n                  fillRule=\"evenodd\"\r\n                  d=\"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z\"\r\n                  clipRule=\"evenodd\"\r\n                />\r\n              </svg>\r\n            </a>\r\n          </li>\r\n        )}\r\n\r\n        {Array.from({ length: totalPages }, (_, index) => index + 1).map(\r\n          (pageNum) => (\r\n            <li key={pageNum}>\r\n              <a\r\n                href=\"#\"\r\n                onClick={() => setCurrentPage(pageNum)}\r\n                className={`${\r\n                  pageNum === currentPage\r\n                    ? \"block h-8 w-8 rounded border-blue-600 bg-indigo-600 text-center leading-8 text-white\"\r\n                    : \"block h-8 w-8 rounded border border-gray-100 bg-white text-center leading-8 text-gray-900\"\r\n                }`}\r\n              >\r\n                {pageNum}\r\n              </a>\r\n            </li>\r\n          )\r\n        )}\r\n\r\n        {currentPage < totalPages && (\r\n          <li>\r\n            <a\r\n              href=\"#\"\r\n              onClick={() => setCurrentPage((prev) => prev + 1)}\r\n              className=\"inline-flex h-8 w-8 items-center justify-center rounded border border-gray-100 bg-white text-gray-900 rtl:rotate-180\"\r\n            >\r\n              <span className=\"sr-only\">Next Page</span>\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                className=\"h-3 w-3\"\r\n                viewBox=\"0 0 20 20\"\r\n                fill=\"currentColor\"\r\n              >\r\n                <path\r\n                  fillRule=\"evenodd\"\r\n                  d=\"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\"\r\n                  clipRule=\"evenodd\"\r\n                />\r\n              </svg>\r\n            </a>\r\n          </li>\r\n        )}\r\n      </ol>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default ViewLeaves;\r\n","import React from 'react'\r\nimport ViewLeaves from '../../components/LeaveComps/ViewLeaves'\r\nimport { json, useLoaderData } from 'react-router-dom'\r\nimport { getAuthToken } from '../../util/Auth'\r\n\r\nfunction RejectedLeavesPage() {\r\n    const leaves = useLoaderData()\r\n  return (\r\n    <React.Fragment>\r\n          <main>\r\n    <div className=\"mx-auto max-w-7xl py-6 sm:px-6 lg:px-8\">\r\n        <ViewLeaves leaves={leaves} title=\"Rejected Leaves\" />\r\n        </div></main>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default RejectedLeavesPage\r\n\r\nexport async function loader({ request, params }) {\r\n    let url = \"https://homes-test.onrender.com/leave-records/rejected\";\r\n    const token = getAuthToken();\r\n  \r\n    const response = await fetch(url, {\r\n      method: \"get\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + token,\r\n        \"Access-Control-Allow-Origin\": \"*\",\r\n      },\r\n    });\r\n    if (response.status === 404) {\r\n      return response;\r\n    }\r\n    if (response.status === 400) {\r\n      return response;\r\n    }\r\n    if (!response.ok) {\r\n      throw json({ message: \"Server error\" }, { status: 500 });\r\n    }\r\n  \r\n    const resData = await response.json();\r\n    return resData;\r\n  }"],"names":["_ref","leaves","title","_useState","useState","_useState2","_slicedToArray","currentPage","setCurrentPage","totalLeaves","length","totalPages","Math","ceil","startIndex","endIndex","leavesToShow","slice","_jsxs","React","children","_jsx","Flex","className","justifyContent","alignItems","Title","Icon","icon","InformationCircleIcon","variant","tooltip","Table","TableHead","TableRow","TableHeaderCell","TableBody","map","item","Link","to","concat","resident_id","id","TableCell","resident","first_name","last_name","leave_date","return_date","duration","approval_status","person_responsible","href","onClick","prev","xmlns","viewBox","fill","fillRule","d","clipRule","Array","from","_","index","pageNum","loader","_x","_loader","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","token","response","resData","wrap","_context","next","request","params","getAuthToken","fetch","method","headers","Authorization","sent","status","abrupt","ok","json","message","stop","useLoaderData","ViewLeaves"],"sourceRoot":""}