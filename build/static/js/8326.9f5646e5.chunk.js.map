{"version":3,"file":"static/js/8326.9f5646e5.chunk.js","mappings":"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","sources":["components/CarePlanComps/CarePlanForm.js"],"sourcesContent":["import React from \"react\";\r\nimport { getAuthToken } from \"../../util/Auth\";\r\nimport {\r\n  Form,\r\n  json,\r\n  redirect,\r\n  useActionData,\r\n  useNavigate,\r\n  useNavigation,\r\n} from \"react-router-dom\";\r\n\r\nfunction CarePlanForm({ carePlan, method, title }) {\r\n  const navigate = useNavigate();\r\n  const navigation = useNavigation();\r\n  const data = useActionData();\r\n  const isSubmitting = navigation.state === \"submitting\";\r\n  function cancelHandler() {\r\n    navigate(\"..\");\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {data && data.errors && (\r\n        <ul>\r\n          {Object.values(data.errors).map((err) => (\r\n            <li key={err}>{err}</li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n      <Form method={method}>\r\n        <div className=\"space-y-12\">\r\n          <div className=\"border-b border-gray-900/10 pb-12\">\r\n            <p className=\"mt-1 text-sm leading-6 text-gray-600\">\r\n              Kindly fill in correct details\r\n            </p>\r\n            <div className=\"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6\">\r\n              <div className=\"col-span-full\">\r\n                <label\r\n                  htmlFor=\"diet\"\r\n                  className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n                >\r\n                  Dietary requirements\r\n                </label>\r\n                <div className=\"mt-2\">\r\n                  <textarea\r\n                    id=\"diet\"\r\n                    name=\"diet\"\r\n                    rows={3}\r\n                    className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                    defaultValue={carePlan ? carePlan.dietary_requirements : \"\"}\r\n                  />\r\n                </div>\r\n                <p className=\"mt-3 text-sm leading-6 text-gray-600\">\r\n                  Write a few sentences about the Dietary requirements.\r\n                </p>\r\n              </div>\r\n\r\n              <div className=\"col-span-full\">\r\n                <label\r\n                  htmlFor=\"mobility\"\r\n                  className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n                >\r\n                  Mobility assistance\r\n                </label>\r\n                <div className=\"mt-2\">\r\n                  <textarea\r\n                    id=\"mobility\"\r\n                    name=\"mobility\"\r\n                    rows={3}\r\n                    className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                    defaultValue={carePlan ? carePlan.mobility_assistance : \"\"}\r\n                  />\r\n                </div>\r\n                <p className=\"mt-3 text-sm leading-6 text-gray-600\">\r\n                  Write a few sentences about the resident's mobility.\r\n                </p>\r\n              </div>\r\n\r\n              <div className=\"col-span-full\">\r\n                <label\r\n                  htmlFor=\"medication\"\r\n                  className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n                >\r\n                  Medication administration\r\n                </label>\r\n                <div className=\"mt-2\">\r\n                  <textarea\r\n                    id=\"medication\"\r\n                    name=\"medication\"\r\n                    rows={3}\r\n                    className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                    defaultValue={carePlan ? carePlan.medication_administration : \"\"}\r\n                  />\r\n                </div>\r\n                <p className=\"mt-3 text-sm leading-6 text-gray-600\">\r\n                  Write a few sentences about the medication.\r\n                </p>\r\n              </div>\r\n\r\n              <div className=\"col-span-full\">\r\n                <label\r\n                  htmlFor=\"hygiene\"\r\n                  className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n                >\r\n                  Personal hygiene\r\n                </label>\r\n                <div className=\"mt-2\">\r\n                  <textarea\r\n                    id=\"hygiene\"\r\n                    name=\"hygiene\"\r\n                    rows={3}\r\n                    className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                    defaultValue={carePlan ? carePlan.personal_hygiene : \"\"}\r\n                  />\r\n                </div>\r\n                <p className=\"mt-3 text-sm leading-6 text-gray-600\">\r\n                  Describe the personal hygiene.\r\n                </p>\r\n              </div>\r\n\r\n              <div className=\"col-span-full\">\r\n                <label\r\n                  htmlFor=\"activity\"\r\n                  className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n                >\r\n                  Activity schedule\r\n                </label>\r\n                <div className=\"mt-2\">\r\n                  <textarea\r\n                    id=\"activity\"\r\n                    name=\"activity\"\r\n                    rows={3}\r\n                    className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                    defaultValue={carePlan ? carePlan.activity_schedule : \"\"}\r\n                  />\r\n                </div>\r\n                <p className=\"mt-3 text-sm leading-6 text-gray-600\">\r\n                  Write a few sentences about resident's activity schedule.\r\n                </p>\r\n              </div>\r\n\r\n              <div className=\"col-span-full\">\r\n                <label\r\n                  htmlFor=\"instructions\"\r\n                  className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n                >\r\n                  Instructions\r\n                </label>\r\n\r\n                <div className=\"mt-2\">\r\n                  <textarea\r\n                    id=\"instructions\"\r\n                    name=\"instructions\"\r\n                    rows={3}\r\n                    className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                    defaultValue={carePlan ? carePlan.instructions : \"\"}\r\n                  />\r\n                </div>\r\n                <p className=\"mt-3 text-sm leading-6 text-gray-600\">\r\n                  Write a few sentences about the instructons.\r\n                </p>\r\n              </div>\r\n\r\n            </div>\r\n          </div>\r\n              <div className=\"flex justify-between sm:col-span-4\">\r\n                <button\r\n                  onClick={cancelHandler}\r\n                  className=\"px-4 py-2 text-sm font-medium text-gray-900 bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                >\r\n                  Back\r\n                </button>\r\n                <button\r\n                  type=\"submit\"\r\n                  disabled={isSubmitting}\r\n                  className=\"px-4 py-2 text-sm font-medium text-gray-900 bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                >\r\n                  {isSubmitting ? \"Submitting...\" : \"Save\"}\r\n                </button>\r\n              </div>\r\n        </div>\r\n      </Form>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default CarePlanForm;\r\n\r\nexport async function action({ request, params }) {\r\n  const method = request.method;\r\n  const data = await request.formData();\r\n  const token = getAuthToken();\r\n  const id = params.id;\r\n  const carePlanData = {\r\n    dietary_requirements: data.get(\"diet\"),\r\n    mobility_assistance: data.get(\"mobility\"),\r\n    medication_administration: data.get(\"medication\"),\r\n    personal_hygiene: data.get(\"hygiene\"),\r\n    activity_schedule: data.get(\"activity\"),\r\n    instructions: data.get(\"instructions\"),\r\n    resident_id: id,\r\n  };\r\n  let url = \"/care-plan\";\r\n  if (method === \"POST\") {\r\n    const response = await fetch(url, {\r\n      method: method,\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + token,\r\n        \"Access-Control-Allow-Origin\": \"*\",\r\n      },\r\n      body: JSON.stringify(carePlanData),\r\n    });\r\n    if (response.status === 400) {\r\n      return response;\r\n    }\r\n    if (!response.ok) {\r\n      throw json({ message: \"Failed to save the care plan\" }, { status: 500 });\r\n    }\r\n    return redirect(`/login/residents/${id}/care-plan`);\r\n  }\r\n}\r\n"],"names":["action","_x","_action","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_ref2","request","params","method","data","token","id","carePlanData","response","wrap","_context","prev","next","formData","sent","getAuthToken","dietary_requirements","get","mobility_assistance","medication_administration","personal_hygiene","activity_schedule","instructions","resident_id","fetch","headers","Authorization","body","JSON","stringify","status","abrupt","ok","json","message","redirect","concat","stop","_ref","carePlan","navigate","title","useNavigate","navigation","useNavigation","useActionData","isSubmitting","state","_jsxs","React","children","errors","_jsx","Object","values","map","err","Form","className","htmlFor","name","rows","defaultValue","onClick","type","disabled"],"sourceRoot":""}