{"version":3,"file":"static/js/5495.5ee86171.chunk.js","mappings":"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","sources":["components/IncidentComps/IncidentDetail.js","pages/IncidentPages/IncidentDetailPage.js"],"sourcesContent":["import React from \"react\";\nimport { Link, useSubmit } from \"react-router-dom\";\n\nfunction IncidentDetail({ incident }) {\n  const submit = useSubmit();\n  function startDeleteHandler() {\n    const proceed = window.confirm(\"Are you sure?\");\n\n    if (proceed) {\n      submit(null, { method: \"delete\" });\n    }\n  }\n  return (\n    <React.Fragment>\n      <div className=\"px-4 py-3 sm:grid sm:grid-cols-3 hover:bg-white sm:gap-4 sm:px-0\">\n        <dt className=\"text-sm font-medium leading-6 text-gray-900\">Incident Date </dt>\n        <dd className=\"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0\">\n          {incident.incident_date}\n        </dd>\n      </div>\n      <div className=\"px-4 py-3 sm:grid sm:grid-cols-3 hover:bg-white sm:gap-4 sm:px-0\">\n        <dt className=\"text-sm font-medium leading-6 text-gray-900\">Description </dt>\n        <dd className=\"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0\">\n          {incident.description}\n        </dd>\n      </div>\n      <div className=\"px-4 py-3 sm:grid sm:grid-cols-3 hover:bg-white sm:gap-4 sm:px-0\">\n        <dt className=\"text-sm font-medium leading-6 text-gray-900\">Actions taken </dt>\n        <dd className=\"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0\">\n          {incident.actions_taken}\n        </dd>\n      </div>\n      <div className=\"px-4 py-3 sm:grid sm:grid-cols-3 hover:bg-white sm:gap-4 sm:px-0\">\n        <dt className=\"text-sm font-medium leading-6 text-gray-900\">Antecedent </dt>\n        <dd className=\"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0\">\n          {incident.antecedent}\n        </dd>\n      </div>\n      <div className=\"px-4 py-3 sm:grid sm:grid-cols-3 hover:bg-white sm:gap-4 sm:px-0\">\n        <dt className=\"text-sm font-medium leading-6 text-gray-900\">Location </dt>\n        <dd className=\"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0\">\n          {incident.location}\n        </dd>\n      </div>\n      <div className=\"px-4 py-3 sm:grid sm:grid-cols-3 hover:bg-white sm:gap-4 sm:px-0\">\n        <dt className=\"text-sm font-medium leading-6 text-gray-900\">Person Notified </dt>\n        <dd className=\"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0\">\n          {incident.person_notified}\n        </dd>\n      </div>\n      <div className=\"px-4 py-3 sm:grid sm:grid-cols-3 hover:bg-white sm:gap-4 sm:px-0\">\n        <dt className=\"text-sm font-medium leading-6 text-gray-900\">Person Reporting </dt>\n        <dd className=\"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0\">\n          {incident.person_reporting}\n        </dd>\n      </div>\n      <div className=\"px-4 py-3 sm:grid sm:grid-cols-3 hover:bg-white sm:gap-4 sm:px-0\">\n        <dt className=\"text-sm font-medium leading-6 text-gray-900\">Registered by </dt>\n        <dd className=\"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0\">\n          {incident.registered_by.first_name}\n        </dd>\n      </div>\n     \n      <div className=\" px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n        <dt className=\"text-sm font-medium text-gray-500\">\n          <button\n            onClick={startDeleteHandler}\n            className=\"px-4 py-2 text-sm font-medium text-gray-900 bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          >\n            Delete\n          </button>\n        </dt>\n        <dd className=\"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0\">\n          <Link to=\"edit\">\n            <button\n              type=\"submit\"\n              className=\"px-4 py-2 text-sm font-medium text-gray-900 bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            >\n              Edit\n            </button>\n          </Link>\n        </dd>\n      </div>\n    </React.Fragment>\n  );\n}\n\nexport default IncidentDetail;\n","import React from \"react\";\nimport IncidentDetail from \"../../components/IncidentComps/IncidentDetail\";\nimport { getAuthToken } from \"../../util/Auth\";\nimport { json, redirect, useRouteLoaderData } from \"react-router-dom\";\n\nfunction IncidentDetailPage() {\n  const incident = useRouteLoaderData(\"incident\");\n  return (\n    <React.Fragment>\n      <IncidentDetail incident={incident} />\n    </React.Fragment>\n  );\n}\n\nexport default IncidentDetailPage;\n\nexport async function loader({ request, params }) {\n  let url = \"https://woodvale-test-2.onrender.com/incident-reports/\";\n  const token = getAuthToken();\n  const id = params.incidentId;\n  const response = await fetch(url + id, {\n    method: \"get\",\n    headers: {\n      Authorization: \"Bearer \" + token,\n      \"Access-Control-Allow-Origin\": \"*\",\n    },\n  });\n  if (response.status === 400) {\n    return response;\n  }\n  if (response.status === 404) {\n    return response;\n  }\n  if (!response.ok) {\n    throw json({ message: \"Wrong Url\" }, { status: 500 });\n  }\n\n  const resData = await response.json();\n  console.log(resData);\n  return resData;\n}\n\nexport async function action({ request, params }) {\n  const token = getAuthToken();\n\nconst id = params.incidentId;\nconst Id = params.id;\n  const response = await fetch(\"https://woodvale-test-2.onrender.com/incident-reports/\" + id, {\n    method: request.method,\n    headers: {\n      Authorization: \"Bearer \" + token,\n    },\n  });\n  if (response.status === 404) {\n    return response;\n  }\n  if (response.status === 400) {\n    return response;\n  }\n  if (!response.ok) {\n    throw json(\n      { message: \"Could not delete incident.\" },\n      {\n        status: 500,\n      }\n    );\n  }\n  return redirect(`/login/residents/${Id}/incident`);\n}\n"],"names":["_ref","incident","submit","useSubmit","_jsxs","React","children","className","_jsx","incident_date","description","actions_taken","antecedent","location","person_notified","person_reporting","registered_by","first_name","onClick","window","confirm","method","Link","to","type","useRouteLoaderData","IncidentDetail","loader","_x","_loader","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","params","token","id","response","resData","wrap","_context","prev","next","request","getAuthToken","incidentId","fetch","headers","Authorization","sent","status","abrupt","ok","json","message","console","log","stop","action","_x2","_action","_callee2","_ref2","Id","_context2","redirect","concat"],"sourceRoot":""}