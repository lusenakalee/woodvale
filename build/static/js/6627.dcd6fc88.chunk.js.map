{"version":3,"file":"static/js/6627.dcd6fc88.chunk.js","mappings":"8QAiFA,MA7EA,SAAiBA,GAAY,IAATC,EAAID,EAAJC,KACZC,GAAQC,EAAAA,EAAAA,IAAmB,QAC3BC,GAASC,EAAAA,EAAAA,MASTC,GAAOC,EAAAA,EAAAA,MACb,OACEC,EAAAA,EAAAA,MAACC,EAAAA,SAAc,CAAAC,SAAA,CACZJ,GAAQA,EAAKK,SACZC,EAAAA,EAAAA,KAAA,MAAAF,SACGG,OAAOC,OAAOR,EAAKK,QAAQI,KAAI,SAACC,GAAG,OAClCJ,EAAAA,EAAAA,KAAA,MAAAF,SAAeM,GAANA,EAAe,OAI9BR,EAAAA,EAAAA,MAAA,OAAKS,UAAU,GAAEP,SAAA,EACfE,EAAAA,EAAAA,KAAA,MAAIK,UAAU,kDAAiDP,SAAC,sBAGhEF,EAAAA,EAAAA,MAAA,KAAGS,UAAU,iDAAgDP,SAAA,CAC1DT,EAAKiB,WAAW,mCAIrBV,EAAAA,EAAAA,MAAA,OAAKS,UAAU,mEAAkEP,SAAA,EAC/EE,EAAAA,EAAAA,KAAA,MAAIK,UAAU,8CAA6CP,SAAC,eAG5DF,EAAAA,EAAAA,MAAA,MAAIS,UAAU,6DAA4DP,SAAA,CACvET,EAAKiB,WAAW,IAAEjB,EAAKkB,iBAG5BX,EAAAA,EAAAA,MAAA,OAAKS,UAAU,mEAAkEP,SAAA,EAC/EE,EAAAA,EAAAA,KAAA,MAAIK,UAAU,8CAA6CP,SAAC,cAG5DE,EAAAA,EAAAA,KAAA,MAAIK,UAAU,6DAA4DP,SACvET,EAAKmB,eAGVZ,EAAAA,EAAAA,MAAA,OAAKS,UAAU,mEAAkEP,SAAA,EAC/EE,EAAAA,EAAAA,KAAA,MAAIK,UAAU,8CAA6CP,SAAC,eAG5DE,EAAAA,EAAAA,KAAA,MAAIK,UAAU,6DAA4DP,UACtD,IAAjBT,EAAKoB,SAAmB,QAAS,kBAGrCnB,IACCM,EAAAA,EAAAA,MAAA,OAAKS,UAAU,qDAAoDP,SAAA,EACnEE,EAAAA,EAAAA,KAAA,MAAIK,UAAU,oCAAmCP,UAC/CE,EAAAA,EAAAA,KAAA,UACEU,QAtDV,WACkBC,OAAOC,QAAQ,kBAG7BpB,EAAO,KAAM,CAAEqB,OAAQ,UAE3B,EAiDUR,UAAU,2IAA0IP,SACrJ,cAIHE,EAAAA,EAAAA,KAAA,MAAAF,UACEE,EAAAA,EAAAA,KAACc,EAAAA,GAAI,CAACC,GAAE,SAAWjB,UACjBE,EAAAA,EAAAA,KAAA,UAAQK,UAAU,2IAA0IP,SAAC,kBASzK,E,oBCjEA,MATA,WACE,IAAMT,GAAOE,EAAAA,EAAAA,IAAmB,eAChC,OACES,EAAAA,EAAAA,KAACH,EAAAA,SAAc,CAAAC,UACXE,EAAAA,EAAAA,KAACgB,EAAQ,CAAC3B,KAAMA,KAGxB,EAIO,SAAe4B,EAAMC,GAAA,OAAAC,EAAAC,MAAC,KAADC,UAAA,CAwB3B,SAAAF,IAAA,OAAAA,GAAAG,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAxBM,SAAAC,EAAArC,GAAA,IAAAsC,EAAApC,EAAAqC,EAAAC,EAAAC,EAAA,OAAAN,EAAAA,EAAAA,KAAAO,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAGe,OAHgB7C,EAAP8C,QAASR,EAAMtC,EAANsC,OAC5B,wCACJpC,GAAQ6C,EAAAA,EAAAA,gBACRR,EAAKD,EAAOC,GAAEI,EAAAE,KAAA,EACGG,MAHb,wCAGyBT,EAAI,CACrCd,OAAQ,MACRwB,QAAS,CACPC,cAAe,UAAYhD,EAC3B,8BAA+B,OAEhC,KAAD,EANY,GAOU,OAPlBsC,EAAQG,EAAAQ,MAODC,OAAc,CAAAT,EAAAE,KAAA,eAAAF,EAAAU,OAAA,SAClBb,GAAQ,UAEO,MAApBA,EAASY,OAAc,CAAAT,EAAAE,KAAA,gBAAAF,EAAAU,OAAA,SAClBb,GAAQ,WAEZA,EAASc,GAAG,CAADX,EAAAE,KAAA,eACRU,EAAAA,EAAAA,IAAK,CAAEC,QAAS,aAAe,CAAEJ,OAAQ,MAAO,KAAD,UAAAT,EAAAE,KAAA,GAGjCL,EAASe,OAAO,KAAD,GAChB,OADfd,EAAOE,EAAAQ,KACbM,QAAQC,IAAIjB,GAASE,EAAAU,OAAA,SACdZ,GAAO,yBAAAE,EAAAgB,OAAA,GAAAtB,EAAA,MACfL,MAAA,KAAAC,UAAA,CAEM,SAAe2B,EAAMC,GAAA,OAAAC,EAAA9B,MAAC,KAADC,UAAA,CAyB3B,SAAA6B,IAAA,OAAAA,GAAA5B,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAzBM,SAAA2B,EAAAC,GAAA,IAAAlB,EAAAR,EAAApC,EAAAqC,EAAAC,EAAA,OAAAL,EAAAA,EAAAA,KAAAO,MAAA,SAAAuB,GAAA,cAAAA,EAAArB,KAAAqB,EAAApB,MAAA,OAGe,OAHSC,EAAOkB,EAAPlB,QAASR,EAAM0B,EAAN1B,OAChCpC,GAAQ6C,EAAAA,EAAAA,gBAERR,EAAKD,EAAOC,GAAE0B,EAAApB,KAAA,EACGG,MAAM,wCAA0CT,EAAI,CACzEd,OAAQqB,EAAQrB,OAChBwB,QAAS,CACPC,cAAe,UAAYhD,KAE5B,KAAD,EALY,GAMU,OANlBsC,EAAQyB,EAAAd,MAMDC,OAAc,CAAAa,EAAApB,KAAA,eAAAoB,EAAAZ,OAAA,SAClBb,GAAQ,UAEO,MAApBA,EAASY,OAAc,CAAAa,EAAApB,KAAA,gBAAAoB,EAAAZ,OAAA,SAClBb,GAAQ,WAEZA,EAASc,GAAG,CAADW,EAAApB,KAAA,eACRU,EAAAA,EAAAA,IACJ,CAAEC,QAAS,0BACX,CACEJ,OAAQ,MAEV,KAAD,UAAAa,EAAAZ,OAAA,UAEIa,EAAAA,EAAAA,IAAS,gBAAc,yBAAAD,EAAAN,OAAA,GAAAI,EAAA,MAC/B/B,MAAA,KAAAC,UAAA,C","sources":["components/UserComps/UserItem.js","pages/UserPages/UserDetailPage.js"],"sourcesContent":["import React from \"react\";\nimport { Link, useActionData } from \"react-router-dom\";\nimport { useRouteLoaderData, useSubmit } from \"react-router-dom\";\n\nfunction UserItem({ user }) {\n  const token = useRouteLoaderData(\"root\");\n  const submit = useSubmit();\n\n  function startDeleteHandler() {\n    const proceed = window.confirm(\"Are you sure?\");\n\n    if (proceed) {\n      submit(null, { method: \"delete\" });\n    }\n  }\n  const data = useActionData();\n  return (\n    <React.Fragment>\n      {data && data.errors && (\n        <ul>\n          {Object.values(data.errors).map((err) => (\n            <li key={err}>{err}</li>\n          ))}\n        </ul>\n      )}\n      <div className=\"\">\n        <h3 className=\"text-base font-semibold leading-7 text-gray-900\">\n          User Information\n        </h3>\n        <p className=\"mt-1 max-w-2xl text-sm leading-6 text-gray-500\">\n          {user.first_name} details and Information.\n        </p>\n      </div>\n\n      <div className=\"px-4 py-3 sm:grid sm:grid-cols-3 hover:bg-white sm:gap-4 sm:px-0\">\n        <dt className=\"text-sm font-medium leading-6 text-gray-900\">\n          Full name\n        </dt>\n        <dd className=\"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0\">\n          {user.first_name} {user.last_name}\n        </dd>\n      </div>\n      <div className=\"px-4 py-3 sm:grid sm:grid-cols-3 hover:bg-white sm:gap-4 sm:px-0\">\n        <dt className=\"text-sm font-medium leading-6 text-gray-900\">\n          Username\n        </dt>\n        <dd className=\"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0\">\n          {user.username} \n        </dd>\n      </div>\n      <div className=\"px-4 py-3 sm:grid sm:grid-cols-3 hover:bg-white sm:gap-4 sm:px-0\">\n        <dt className=\"text-sm font-medium leading-6 text-gray-900\">\n          User type\n        </dt>\n        <dd className=\"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0\">\n          {user.is_admin=== true ? \"Admin\": \"Care Giver\"} \n        </dd>\n      </div>\n      {token && (\n        <div className=\" px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n        <dt className=\"text-sm font-medium text-gray-500\">\n          <button\n            onClick={startDeleteHandler}\n            className=\"px-4 py-2 text-sm font-medium text-gray-900 bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          >\n            Delete\n          </button>\n        </dt>\n        <dd>\n          <Link to={`./edit`}>\n            <button className=\"px-4 py-2 text-sm font-medium text-gray-900 bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500\">\n              Edit\n            </button>\n          </Link>\n        </dd>\n      </div>\n      )}\n    </React.Fragment>\n  );\n}\n\nexport default UserItem;\n","import React from 'react'\nimport UserItem from '../../components/UserComps/UserItem'\nimport { json, redirect, useRouteLoaderData } from 'react-router-dom'\nimport { getAuthToken } from '../../util/Auth'\n\nfunction UserDetailPage() {\n  const user = useRouteLoaderData(\"user-detail\")\n  return (\n    <React.Fragment>\n        <UserItem user={user}/>\n    </React.Fragment>\n  )\n}\n\nexport default UserDetailPage\n\nexport async function loader({ request, params }) {\n  let url = \"https://homes-test.onrender.com/user/\";\n  const token = getAuthToken();\n  const id = params.id;\n  const response = await fetch(url + id, {\n    method: \"get\",\n    headers: {\n      Authorization: \"Bearer \" + token,\n      \"Access-Control-Allow-Origin\": \"*\",\n    },\n  });\n  if (response.status === 400) {\n    return response;\n  }\n  if (response.status === 404) {\n    return response;\n  }\n  if (!response.ok) {\n    throw json({ message: \"Wrong Url\" }, { status: 500 });\n  }\n\n  const resData = await response.json();\n  console.log(resData);\n  return resData;\n}\n\nexport async function action({ request, params }) {\n  const token = getAuthToken();\n\n  const id = params.id;\n  const response = await fetch(\"https://homes-test.onrender.com/user/\" + id, {\n    method: request.method,\n    headers: {\n      Authorization: \"Bearer \" + token,\n    },\n  });\n  if (response.status === 404) {\n    return response;\n  }\n  if (response.status === 400) {\n    return response;\n  }\n  if (!response.ok) {\n    throw json(\n      { message: \"Could not delete user.\" },\n      {\n        status: 500,\n      }\n    );\n  }\n  return redirect(\"/login/team\");\n}\n"],"names":["_ref","user","token","useRouteLoaderData","submit","useSubmit","data","useActionData","_jsxs","React","children","errors","_jsx","Object","values","map","err","className","first_name","last_name","username","is_admin","onClick","window","confirm","method","Link","to","UserItem","loader","_x","_loader","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","params","id","response","resData","wrap","_context","prev","next","request","getAuthToken","fetch","headers","Authorization","sent","status","abrupt","ok","json","message","console","log","stop","action","_x2","_action","_callee2","_ref2","_context2","redirect"],"sourceRoot":""}