"use strict";(self.webpackChunkwoodvale=self.webpackChunkwoodvale||[]).push([[3947,8808],{8808:function(e,t,n){n.r(t),n.d(t,{action:function(){return u}});var a=n(4165),s=n(5861),i=n(2791),r=n(7689),o=n(1087),l=n(2620),c=n(8127),d=n(184);function u(e){return m.apply(this,arguments)}function m(){return(m=(0,s.Z)((0,a.Z)().mark((function e(t){var n,s,i,r,o,d,u,m,g;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.request,s=t.params,i=n.method,e.next=4,n.formData();case 4:if(r=e.sent,o=(0,c.getAuthToken)(),d={name:r.get("name"),description:r.get("description"),event_date:r.get("event_date")},u="https://woodvale-test-2.onrender.com/activity","POST"!==i){e.next=19;break}return e.next=11,fetch(u,{method:i,headers:{"Content-Type":"application/json",Authorization:"Bearer "+o,"Access-Control-Allow-Origin":"*"},body:JSON.stringify(d)});case 11:if(400!==(m=e.sent).status){e.next=14;break}return e.abrupt("return",m);case 14:if(m.ok){e.next=16;break}throw(0,l.AV)({message:"Failed to save the activity"},{status:500});case 16:case 27:return e.abrupt("return",(0,l.uX)("/login/activity"));case 19:return g=s.id,u="/activity/"+g,e.next=23,fetch(u,{method:i,headers:{"Content-Type":"application/json",Authorization:"Bearer "+o,"Access-Control-Allow-Origin":"*"},body:JSON.stringify(d)});case 23:if(e.sent.ok){e.next=27;break}throw window.alert("failed update"),(0,l.AV)({message:"Failed to update the activity"},{status:500});case 28:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.default=function(e){var t=e.activity,n=e.method,a=e.title,s=(0,r.s0)(),l=(0,r.HJ)(),c=((0,r.nA)(),"submitting"===l.state);return(0,d.jsxs)(i.Fragment,{children:[a,(0,d.jsx)(o.l0,{method:n,children:(0,d.jsxs)("div",{className:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6",children:[(0,d.jsxs)("div",{className:"sm:col-span-3",children:[(0,d.jsx)("label",{htmlFor:"first-name",className:"block text-sm font-medium leading-6 text-gray-900",children:"Activity name"}),(0,d.jsx)("div",{className:"mt-2",children:(0,d.jsx)("input",{type:"text",name:"name",required:!0,id:"first-name",autoComplete:"given-name",defaultValue:t?t.name:"",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]}),(0,d.jsxs)("div",{className:"col-span-full",children:[(0,d.jsx)("label",{htmlFor:"about",className:"block text-sm font-medium leading-6 text-gray-900",children:"Activity description"}),(0,d.jsx)("div",{className:"mt-2",children:(0,d.jsx)("textarea",{id:"about",name:"description",required:!0,rows:3,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",defaultValue:t?t.description:""})}),(0,d.jsx)("p",{className:"mt-3 text-sm leading-6 text-gray-600",children:"Write a few sentences about the activity."})]}),(0,d.jsxs)("div",{className:"sm:col-span-3",children:[(0,d.jsx)("label",{htmlFor:"date",className:"block text-sm font-medium leading-6 text-gray-900",children:"Event Date"}),(0,d.jsx)("div",{className:"mt-2",children:(0,d.jsx)("input",{id:"date",name:"event_date",type:"date",required:!0,defaultValue:t?t.event_date:"",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:max-w-xs sm:text-sm sm:leading-6"})})]}),(0,d.jsxs)("div",{className:"flex justify-between sm:col-span-4",children:[(0,d.jsx)("button",{onClick:function(){s("..")},className:"px-4 py-2 text-sm font-medium text-gray-900 bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Back"}),(0,d.jsx)("button",{type:"submit",disabled:c,className:"px-4 py-2 text-sm font-medium text-gray-900 bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500",children:c?"Submitting...":"Save"})]})]})})]})}},3947:function(e,t,n){n.r(t);var a=n(2791),s=n(8808),i=n(7689),r=n(184);t.default=function(){var e=(0,i.V4)("activity-detail");return(0,r.jsx)(a.Fragment,{children:(0,r.jsx)(s.default,{activity:e,method:"patch"})})}}}]);
//# sourceMappingURL=3947.bdf9af31.chunk.js.map