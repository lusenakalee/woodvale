{"version":3,"file":"static/js/7423.a24df663.chunk.js","mappings":"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","sources":["components/UserComps/UserForm.js","pages/UserPages/UserEditPage.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport {\r\n  Form,\r\n  json,\r\n  redirect,\r\n  useNavigate,\r\n  useNavigation,\r\n} from \"react-router-dom\";\r\nimport { getAuthToken } from \"../../util/Auth\";\r\n\r\nfunction UserForm({ method, user, title }) {\r\n  const navigate = useNavigate();\r\n  const navigation = useNavigation();\r\n  const [selectedOption, setSelectedOption] = useState(null);\r\n\r\n  const handleOptionChange = (e) => {\r\n    setSelectedOption(e.target.value);\r\n  };\r\n\r\n  const isSubmitting = navigation.state === \"submitting\";\r\n  function cancelHandler() {\r\n    navigate(\"..\");\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Form method={method}>\r\n        <div className=\"space-y-12\">\r\n          <div className=\"border-b border-gray-900/10 pb-12\">\r\n            <p className=\"mt-1 text-sm leading-6 text-gray-600\">\r\n              Kindly fill in correct details\r\n            </p>\r\n\r\n            <div className=\"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6\">\r\n              <div className=\"sm:col-span-3\">\r\n                <label\r\n                  htmlFor=\"first-name\"\r\n                  className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n                >\r\n                  First name\r\n                </label>\r\n                <div className=\"mt-2\">\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"first_name\"\r\n                    id=\"first-name\"\r\n                    autoComplete=\"given-name\"\r\n                    required\r\n                    defaultValue={user ? user.first_name : \" \"}\r\n                    className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"sm:col-span-3\">\r\n                <label\r\n                  htmlFor=\"last_name\"\r\n                  className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n                >\r\n                  Last name\r\n                </label>\r\n                <div className=\"mt-2\">\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"last_name\"\r\n                    id=\"last_name\"\r\n                    autoComplete=\"family-name\"\r\n                    required\r\n                    defaultValue={user ? user.last_name : \" \"}\r\n                    className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"sm:col-span-3\">\r\n                <label\r\n                  htmlFor=\"username\"\r\n                  className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n                >\r\n                  Set user name\r\n                </label>\r\n                <div className=\"mt-2\">\r\n                  <input\r\n                    type=\"email\"\r\n                    name=\"username\"\r\n                    id=\"username\"\r\n                    required\r\n                    autoComplete=\"family-name\"\r\n                    defaultValue={user ? user.username : \" \"}\r\n                    className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"sm:col-span-3\">\r\n                <label\r\n                  htmlFor=\"password1\"\r\n                  className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n                >\r\n                  Set password\r\n                </label>\r\n                <div className=\"mt-2\">\r\n                  <input\r\n                    type=\"text\"\r\n                    required\r\n                    name=\"password1\"\r\n                    id=\"password1\"\r\n                    className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"sm:col-span-3\">\r\n                <label\r\n                  htmlFor=\"password2\"\r\n                  className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n                >\r\n                  Confirm password\r\n                </label>\r\n                <div className=\"mt-2\">\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"password2\"\r\n                    required\r\n                    id=\"password2\"\r\n                    className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"mt-10 space-y-10 space-x-5\">\r\n              <fieldset  className=\"mt-10 space-y-10 space-x-5\">\r\n                <legend className=\"text-sm font-semibold leading-6 text-gray-900\">\r\n                  Is the user you are adding an Admin?\r\n                </legend>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"is-admin\"\r\n                    value=\"true\"\r\n                    checked={selectedOption === \"true\"}\r\n                    onChange={handleOptionChange}\r\n                  />\r\n                  True\r\n                </label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"is-admin\"\r\n                    value=\"false\"\r\n                    checked={selectedOption === \"false\"}\r\n                    onChange={handleOptionChange}\r\n                  />\r\n                  False\r\n                </label>\r\n              </fieldset>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex justify-between sm:col-span-4\">\r\n            <button\r\n              onClick={cancelHandler}\r\n              className=\"px-4 py-2 text-sm font-medium text-gray-900 bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n            >\r\n              Back\r\n            </button>\r\n            <button\r\n              type=\"submit\"\r\n              disabled={isSubmitting}\r\n              className=\"px-4 py-2 text-sm font-medium text-gray-900 bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n            >\r\n              {isSubmitting ? \"Submitting...\" : \"Save\"}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </Form>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default UserForm;\r\nexport async function action({ request, params }) {\r\n  const data = await request.formData();\r\n  const method = request.method;\r\n  const token = getAuthToken();\r\n  const signupData = {\r\n    username: data.get(\"username\"),\r\n    password1: data.get(\"password1\"),\r\n    password2: data.get(\"password2\"),\r\n    first_name: data.get(\"first_name\"),\r\n    last_name: data.get(\"last_name\"),\r\n    is_admin: data.get(\"is-admin\"), //boolean field should be a dropdown of true or false\r\n  };\r\n  const response = await fetch(\"/user\", {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      \"Access-Control-Allow-Origin\": \"*\",\r\n      Authorization: \"Bearer \" + token,\r\n    },\r\n    body: JSON.stringify(signupData),\r\n  });\r\n  if (response.status === 409) {\r\n    return response;\r\n  }\r\n\r\n  if (response.status === 417) {\r\n    return response;\r\n  }\r\n  if (!response.ok) {\r\n    throw json({ message: \"Could not register user\" }, { status: 500 });\r\n  }\r\n\r\n  return redirect(\"/login/team\");\r\n}\r\n","import React from 'react'\r\nimport { useRouteLoaderData } from 'react-router-dom'\r\nimport UserForm from '../../components/UserComps/UserForm'\r\n\r\nfunction UserEditPage() {\r\n    const user = useRouteLoaderData('user-detail')\r\n  return (\r\n    <React.Fragment>\r\n        <UserForm user={user} method=\"patch\"/>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default UserEditPage"],"names":["action","_x","_action","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_ref2","request","data","token","signupData","response","wrap","_context","prev","next","params","formData","sent","method","getAuthToken","username","get","password1","password2","first_name","last_name","is_admin","fetch","headers","Authorization","body","JSON","stringify","status","abrupt","ok","json","message","redirect","stop","_ref","user","navigate","title","useNavigate","navigation","useNavigation","_useState","useState","_useState2","_slicedToArray","selectedOption","setSelectedOption","handleOptionChange","e","target","value","isSubmitting","state","_jsx","React","children","Form","_jsxs","className","htmlFor","type","name","id","autoComplete","required","defaultValue","checked","onChange","onClick","disabled","useRouteLoaderData","UserForm"],"sourceRoot":""}